server:
  shutdownGracePeriod: 20s
  applicationConnectors:
    - type: http
      port: 9090
    - type: https
      port: 9091
      keyStorePath: data/security/developer.keystore
      keyStorePassword: changeme
      certAlias: developer.internal.tink.se
      trustStorePath: data/security/TinkCA.truststore
      trustStorePassword: changeme
      # Validation disabled since Dropwizard/Jetty tries to check revocation of our homebrewed certs, which fails.
      validateCerts: false
  adminConnectors:
    - type: http
      port: 8090

endpoints:
  api:
    url: http://www.staging.tink.se/api/v1
  main:
    url: http://localhost:9090/
  system:
    url: http://localhost:9090/
    accessToken: devtoken
  aggregation:
    url: http://localhost:9090/
    accessToken: devtoken
  analytics:
    url: http://localhost:9090/
  encryption:
    url: http://localhost:9090/
    accessToken: devtoken
  connector:
    url: http://localhost:9090/

taskQueue:
  workers: 10
  mode: ENABLED
  hosts:
    - 172.16.42.2:9092

cluster: ABNAMRO

flags:
  register:
    NL:
      ABN_AMRO: 1
    ALL:
      WRITE_CASSANDRA_STATISTICS: 1
      READ_CASSANDRA_STATISTICS: 1
      WRITE_NEW_TRANSACTIONS: 1
      READ_NEW_TRANSACTIONS: 1
      READ_PERIODS: 1
administrativeMode: ["ccccccelgiev", "ccccccflgngc"]

developmentMode: true

distributedDatabase:
  seeds:
    - 172.16.42.2
  enabled: true
  batchSize: 40

database:
  driverClass: com.mysql.jdbc.Driver
  username: tink
  password: tink
  url: jdbc:mysql://172.16.42.2/tink?useLocalSessionState=true&rewriteBatchedStatements=true&useSSL=true&verifyServerCertificate=false
  showSql: false
  persistenceUnitName: tink-aggregation-api
  generateDdl: true
  maxPoolSize: 40

cache:
  hosts: 172.16.42.2:11211
  enabled: true

creditsafe:
  username: TINKTESTIN
  password: cU7356rwx

idcontrol:
  dryRunDataRefresh: true
  daysToFetchChangesFor: 2

scheduler:
  enabled: true

coordination:
  hosts: 172.16.42.2:2181

search:
  clusterName: elasticsearch
  hosts: 172.16.42.2:9300
  enabled: true

facebook:
  appId: 1482993025252778
  appSecret: 6f7ba2566960534e999ee20d775a5235

notifications:
  startHourOfDay: 0
  endHourOfDay: 24
  maxAgeDays: 1
  applications:
    se.tink.frontend.mobile:
      google:
        apiKey: 'AIzaSyBbD-9t5m3EnL9U8vxD-3qrg9OKUrVZ92h'
      apple:
        topic: com.abnamro.nl.grip
        keystore:
          filename: abnamro-enterprise.p12
          password: 'gripET'

analytics:
  intercom:
    enabled: false

reprocessTransactions:
  categoryCodes: ["expenses:misc.uncategorized", "income:other.other"]
  description:
  includeModifiedByUser: false

transfers:
  enabled: true
  duplicateTime: 1
  aggregationTime: 5
  bankTransferThreshold: 1000
  paymentThreshold: 20000

logging:
  level: INFO
  loggers:
    se.tink: DEBUG
    se.tink.org.eclipse: INFO
    org.hibernate: WARN
    org.apache.hadoop: INFO
    org.apache.http.client.protocol.ResponseProcessCookies: ERROR
  appenders:
    - type: console
      threshold: ALL
      timeZone: Europe/Stockholm
      logFormat: '%magenta(%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"}) %highlight(%level) [%thread] R:%X{requestId} %blue(%logger) %message%n%xException'

connector:
  clients:
    ABN_AMRO:
      - "00000000000000000000000000000000"

abnAmro:
  rateLimitPermits:
    0: 5
    1: 30
    2: 15
  trustStore:
    path: data/security/abnamro.truststore
    password: changeme
  internetBanking:
    host: www-et2.abnamro.nl
    authorizationToken: xxc6w3n3xzzcygzmir98pntfxswetqhq
    accountUpdates:
      enabled: true
      stalenessInMinutes: 0
    products:
      savings:
        ids:
          - 5
          - 8
        groups:
          - SAVINGS_ACCOUNTS
      payments:
        ids:
          - 13
          - 25
        groups:
          - PAYMENT_ACCOUNTS
      creditCards:
        ids:
          - 129
        groups:
          - CREDIT_CARDS_PRIVATE_AND_RETAIL
          - PAYMENT_SERVICES
