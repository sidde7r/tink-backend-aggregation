server:
  shutdownGracePeriod: 30s
  applicationConnectors:
    - type: http
      port: 9095
    - type: https
      port: 9105
      keyStorePath: data/security/developer.keystore
      keyStorePassword: changeme
      certAlias: developer.internal.tink.se
      trustStorePath: data/security/TinkCA.truststore
      trustStorePassword: changeme
      # Validation disabled since Dropwizard/Jetty tries to check revocation of our homebrewed certs, which fails.
      validateCerts: false
  adminConnectors:
    - type: http
      port: 8095

grpc:
  port: 9995

endpoints:
  main:
    url: http://localhost:9090/
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"
  system:
    url: http://localhost:9091/
    accessToken: devtoken
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"
  aggregation:
    url: http://localhost:9095/
    accessToken: devtoken
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"
  analytics:
    url: http://localhost:9093/
  encryption:
    url: http://localhost:9094/
    accessToken: devtoken
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"
  connector:
    url: http://localhost:9096/
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"

cluster: ABNAMRO

serviceAuthentication:
  serverTokens:
    - devtoken

administrativeMode: ["ccccccelgiev", "ccccccflgngc"]

requireInjection: false

developmentMode: true

distributedDatabase:
  seeds:
    - 172.16.42.2
  enabled: true

database:
  driverClass: com.mysql.jdbc.Driver
  username: tink
  password: tink
  url: jdbc:mysql://172.16.42.2/tink?useLocalSessionState=true&rewriteBatchedStatements=true&useSSL=true&verifyServerCertificate=false
  showSql: false
  persistenceUnitName: tink-aggregation-api
  generateDdl: true

scheduler:
  enabled: false

coordination:
  hosts: 172.16.42.2:2181

cache:
  hosts: 172.16.42.2:11211
  enabled: true

analytics:
  intercom:
    enabled: false

logging:
  level: INFO
  loggers:
    se.tink: DEBUG
    se.tink.org.eclipse: INFO
    org.hibernate: WARN
  appenders:
    - type: console
      threshold: ALL
      timeZone: Europe/Stockholm
      logFormat: '%magenta(%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"}) %highlight(%level) [%thread] R:%X{requestId} %blue(%logger) %message%n%xException'

abnAmro:
  trustStore:
    path: data/security/abnamro.truststore
    password: changeme
  enrollment:
    url: https://userenrolmentapplication-t.channelsdta.aws.abnamro.org
    apiKey: EEObzkdHP54hNvBWaYNFn9644uP46Hjha63BH5fv
  ignoreCreditCardErrors: false # change to true to disable all credit card errors
  internetBanking:
    host: www-et2.abnamro.nl
    authorizationToken: xxc6w3n3xzzcygzmir98pntfxswetqhq
    products:
      savings:
        ids:
          - 5
          - 8
        groups:
          - SAVINGS_ACCOUNTS
      payments:
        ids:
          - 13
          - 25
        groups:
          - PAYMENT_ACCOUNTS
      creditCards:
        ids:
          - 129
        groups:
          - CREDIT_CARDS_PRIVATE_AND_RETAIL
          - PAYMENT_SERVICES

template:
  enabled: false
