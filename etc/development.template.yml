server:
  shutdownGracePeriod: 20s
  applicationConnectors:
    - type: http
      port: 9090
    - type: https
      port: 9091
      keyStorePath: data/security/developer.keystore
      keyStorePassword: changeme
      certAlias: developer.internal.tink.se
      trustStorePath: data/security/TinkCA.truststore
      trustStorePassword: changeme
      # Validation disabled since Dropwizard/Jetty tries to check revocation of our homebrewed certs, which fails.
      validateCerts: false
  adminConnectors:
    - type: http
      port: 8090

grpc:
  port: 9998

endpoints:
  api:
    url: http://www.staging.tink.se/api/v1
  main:
    url: http://localhost:9090/
  system:
    url: http://localhost:9090/
    accessToken: devtoken
  aggregation:
    url: http://localhost:9090/
    accessToken: devtoken
  analytics:
    url: http://localhost:9090/
  encryption:
    url: http://localhost:9090/
    accessToken: devtoken
  connector:
    url: http://localhost:9090/
  fasttext:
    url: http://localhost:9090/
  providerConfiguration:
    url: http://localhost:9047/

cluster: TINK

flags:
  register:
    SE:
      FRAUD_PROTECTION: 1
      TINK_EMPLOYEE: 1
      APPLICATIONS: 1
  dynamicInheritance:
    APPLICATIONS:
      - TRANSFERS
      - BILLPAY
      - SHOW_BANK_LOGO
      - APPLICATIONS_INTERCOM_CHAT
      - RESIDENCE_TAB
      - IOS_MORTGAGE_TAKE_OVER
    IOS_BETA:
      - RESIDENCE_VALUATION
    TINK_EMPLOYEE:
      - RESIDENCE_VALUATION

developmentMode: true

distributedDatabase:
  seeds:
    - 172.16.42.2
  enabled: true

database:
  driverClass: com.mysql.jdbc.Driver
  username: tink
  password: tink
  url: jdbc:mysql://172.16.42.2/tink?useLocalSessionState=true&rewriteBatchedStatements=true&useSSL=true&verifyServerCertificate=false
  showSql: false
  persistenceUnitName: tink-aggregation-api
  generateDdl: true
  maxPoolSize: 40

cache:
  hosts: 172.16.42.2:11211
  enabled: true

coordination:
  hosts: 172.16.42.2:2181

notifications:
  startHourOfDay: 9
  endHourOfDay: 22
  applications:
    se.tink.frontend.mobile:
      apple:
        topic: se.tink.iphone
        keystore:
          filename: enterprise.p12
          password: AgtZfUBuvQhF9Cr9nHsbqx]RBLfat2CH
      google:
        apiKey: AIzaSyBbD-9t5m3EnL9U8vxD-3qrg9OKUrVZ92g

agentsServiceConfiguration:
  integrations:
    icsConfiguration:
      abn:
        clientId: "dummyId"
        clientSecret: "dummySecret"
        clientSSLCertificate: "dummyClientCert"
        rootCACertificate: "dummyCACert"
        rootCAPassword: "dummyCAPassword"
    fints:
      regNumber: "dummyId"
    sbab:
      signBaseUrl: "https://secure.sbab.se"
      tink:
        clientId: "tink"
        environment: "sandbox"
        basicAuthUsername: "dummyUser"
        basicAuthPassword: "dummyPass"
        accessToken: "sandboxToken"
        redirectUri: "https://api.tink.se/api/v1/credentials/third-party/callback"
    handelsbanken:
      tink:
        appId: "dummyAppId"
        clientId: "dummyClientId"
        psuIpAddress: "dummyPsuIpAddress"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        appName: "Tink"
        appDesc: "Tink app"
        eidasUrl: "https://eidas-proxy.staging.aggregation.tink.network"
    monzo:
      tink:
        clientId: "dummyId"
        clientSecret: "dummySecret"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    rabobank:
      tink-sandbox:
        clientId: "dummyClientId"
        clientSecret: "dummyClientSecret"
        redirectUrl: "https://main.staging.oxford.tink.se/api/v1/credentials/third-party/callback"
        baseUrl: "https://api-sandbox.rabobank.nl/openapi/sandbox"
        clientSSLP12: "dummyCertificateBase64"
        clientSSLKeyPassword: ""
        qsealcPem: "dummyCertificateBase64"
      tink:
        clientId: "dummyClientId"
        clientSecret: "dummyClientSecret"
        redirectUrl: "https://main.staging.oxford.tink.se/api/v1/credentials/third-party/callback"
        baseUrl: "https://api.rabobank.nl/openapi"
        clientSSLP12: "dummyCertificateBase64"
        clientSSLKeyPassword: ""
        qsealcPem: "dummyCertificateBase64"
      abnamro:
        clientId: "dummyClientId"
        clientSecret: "dummyClientSecret"
        redirectUrl: "https://api.abnamro.tinkapp.nl/api/v1/credentials/third-party/callback"
        baseUrl: "https://api.rabobank.nl/openapi"
        clientSSLP12: "dummyCertificateBase64"
        clientSSLKeyPassword: ""
        qsealcPem: "dummyCertificateBase64"
    abnamro:
      tink:
        clientId: "dummyClientId"
        apiKey: "dummyApiKey"
        redirectUrl: "https://localhost/auth"
        clientSSLP12: "dummyCertificateBase64"
        clientSSLKeyPassword: ""
    sebopenbanking:
      tink:
        baseUrl: "https://api-sandbox.sebgroup.com"
        clientId: "dummyId"
        clientSecret: "dummySecret"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    starling:
      tink:
        aisClientId: "dummyId"
        aisClientSecret: "dummySecret"
        pisClientId: "dummyId"
        pisClientSecret: "dummySecret"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        keyUid: "dummyUid"
        signingKey: "signingKeyInBase64"
    volksbank:
      tink:
        clientId: "dummyId"
        clientSecret: "dummyClient"
        certificateId: "Tink"
        redirectUrl: "https://main.staging.oxford.tink.se/api/v1/credentials/third-party/callback"
      tink-sandbox:
        clientId: "dummyId"
        clientSecret: "dummyClient"
        certificateId: "Tink"
        redirectUrl: "https://main.staging.oxford.tink.se/api/v1/credentials/third-party/callback"
    bunq:
      tink:
        clientId: ""
        clientSecret: ""
        psd2ApiKey: ""
        psd2ClientAuthToken: ""
        psd2InstallationKeyPair: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/credentials/third-party/callback"
      abn:
        clientId: ""
        clientSecret: ""
        psd2ApiKey: ""
        psd2ClientAuthToken: ""
        psd2InstallationKeyPair: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/credentials/third-party/callback"
    activobank:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "ABPT"
    atlanticoeuropa:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "ATLEU"
    bancobpi-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BBPI"
    bancoctt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BCTT"
    bancomontepio:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CEMG"
    bankinter:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BNKI"
    big:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BIG"
    bpg:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BPG"
    caixa-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CGDPT"
    caixa-redirect-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CGDPT"
    caixacrl-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CCAML"
    caixa-fr:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CGDFR"
    cemah:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "CEMAH"
    cofidis:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "COF"
    creditoagricola:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "GCA"
    eurobic-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BIC"
    millenniumbcp:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BCPPT"
    novobanco:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "NVB"
    novobancoacores:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "NVBA"
    santander-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningKeyPath: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "BST"
    unicre-pt:
      tink:
        baseUrl: "https://site1.sibsapimarket.com:8444/sibs/apimarket"
        certificateId: Tink
        clientId: ""
        clientSecret: ""
        clientSigningCertificate: ""
        clientSigningCertificateSerialNumber: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        aspspCode: "UNICR"
    creditsafe:
      username: TINKTESTIN
      password: cU7356rwx
    excludedDebugClusters:
      excludedClusters:
        - local-development
    aggregationWorker:
      collectorSubscriptionKey: ASK_JOHANNES
    bec:
    sparebank1:
      tink:
    ing:
      tink:
        baseUrl: "https://api.sandbox.ing.com"
        clientId: "dummyId"
        clientSigningKeyPath: "data/test/cryptography/ing/signing.key"
        clientSigningCertificatePath: "data/test/cryptography/ing/signing.cer"
        clientKeyStorePath: "data/test/cryptography/ing/client.p12"
        clientKeyStorePassword: "123456"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    deutschebank:
      tink:
        baseUrl: "https://simulator-api.db.com"
        clientId: ""
        clientSecret: ""
        redirectUri: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    seb:
      tink:
        baseUrl: "https://sandbox.sebgroup.com"
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    lansforsakringar:
      tink:
    belfius:
      tink:
        clientId: ""
        baseUrl: "https://sandbox.api.belfius.be:8443"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    bnpparibasfortis:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUri: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        authBaseUrl: "https://sandbox.auth.bnpparibasfortis.com"
        apiBaseUrl: "https://sandbox.api.bnpparibasfortis.com"
        organisationId: ""
        openbankStetVersion: "1.4.0.47.develop"
    spankki:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        baseAuthUrl: "https://s-pankki-sandbox.crosskey.io"
        baseAPIUrl: "https://s-pankki-api-sandbox.crosskey.io"
        clientSigningKeyPath: "data/test/cryptography/crosskey/signing.key"
        clientSigningCertificatePath: "data/test/cryptography/crosskey/signing.cer"
        clientKeyStorePath: "data/test/cryptography/crosskey/client.p12"
        clientKeyStorePassword: "123456"
        xFapiFinancialId: "s-pankki"
    resursbank:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        baseAuthUrl: "https://resursbank-sandbox.crosskey.io"
        baseAPIUrl: "https://resursbank-api-sandbox.crosskey.io"
        clientSigningKeyPath: "data/test/cryptography/crosskey/signing.key"
        clientSigningCertificatePath: "data/test/cryptography/crosskey/signing.cer"
        clientKeyStorePath: "data/test/cryptography/crosskey/client.p12"
        clientKeyStorePassword: "123456"
        xFapiFinancialId: "resursbank"
    alandsbank-se:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        baseAuthUrl: "https://alandsbanken-se-sandbox.crosskey.io"
        baseAPIUrl: "https://alandsbanken-se-api-sandbox.crosskey.io"
        clientSigningKeyPath: "data/test/cryptography/crosskey/signing.key"
        clientSigningCertificatePath: "data/test/cryptography/crosskey/signing.cer"
        clientKeyStorePath: "data/test/cryptography/crosskey/client.p12"
        clientKeyStorePassword: "123456"
        xFapiFinancialId: "alandsbanken-se"
    alandsbank-fi:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
        baseAuthUrl: "https://alandsbanken-fi-sandbox.crosskey.io"
        baseAPIUrl: "https://alandsbanken-fi-api-sandbox.crosskey.io"
        clientSigningKeyPath: "data/test/cryptography/crosskey/signing.key"
        clientSigningCertificatePath: "data/test/cryptography/crosskey/signing.cer"
        clientKeyStorePath: "data/test/cryptography/crosskey/client.p12"
        clientKeyStorePassword: "123456"
        xFapiFinancialId: "alandsbanken-fi"
    bbva:
      tink:
        baseAuthUrl: "https://connect.bbva.com"
        baseApiUrl: "https://apis.bbva.com"
        clientId: "app.bbva.bbvatestapp"
        clientSecret: "9$YyzM4UTAI9$xlH5faHRybL$lJJVYBcIhYvaVFJWE1HJGwyfOz8WTAlAtDDcxb7"
        redirectUrl: "https://127.0.0.1:7357/api/v1/thirdparty/callback"
    sdc:
      tink:
        clientId: ""
        clientSecret: ""
        redirectUrl: "https://api.tink.com/api/v1/credentials/third-party/callback"
        ocpApimSubscriptionKey: ""
    aib:
      tink:
        organizationId: ""
        clientId: ""
        signingKey: ""
        signingKeyId: ""
        softwareStatementAssertion: ""
        redirectUrl: ""
        softwareId: ""
        transportKey: ""
        transportKeyId: ""
        rootCAData: ""
        clientSecret: ""
        transportKeyPassword: ""
        signingKeyPassword: ""
        rootCAPassword: ""
    bankofscotland:
      tink:
        organizationId: ""
        clientId: ""
        signingKey: ""
        signingKeyId: ""
        softwareStatementAssertion: ""
        redirectUrl: "https://api.tink.se/api/v1/credentials/third-party/callback"
        softwareId: ""
        transportKey: ""
        transportKeyId: ""
        rootCAData: ""
        clientSecret: ""
        transportKeyPassword: ""
        signingKeyPassword: ""
        rootCAPassword: ""
    demoFinancialInstitution:
      mobilebanking:
        baseUrl: "http://localhost:9271/mobilebanking"
      openbanking:
        baseUrl: "http://localhost:9271/openbanking"
  signatureKeyPair:
    privateKeyPath: "data/test/cryptography/private_rsa_key.pem"
    publicKeyPath: "data/test/cryptography/public_rsa_key.pub"
  eidasProxy:
    host: "https://eidas-proxy.staging.aggregation.tink.network"
    localEidasDev: true
  tppSecretsServiceConfiguration:
    host: "tink-integration-eidas-secrets-service.eidas-secrets-service.svc.cluster.local" # add to your /etc/hosts with the (minikube ip)
    port: 30787
    certificatesLocation: "development-staging"
    enabled: false
  testConfiguration:
    debugOutput: true
    censorSensitiveHeaders: false

transfers:
  enabled: true
  duplicateTime: 1
  aggregationTime: 5
  bankTransferThreshold: 1000
  paymentThreshold: 20000

logging:
  level: INFO
  loggers:
    se.tink: DEBUG
    se.tink.org.eclipse: INFO
    org.hibernate: WARN
    org.apache.hadoop: INFO
    org.apache.http.client.protocol.ResponseProcessCookies: ERROR
  appenders:
    - type: console
      threshold: ALL
      timeZone: Europe/Stockholm
      logFormat: '%magenta(%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"}) %highlight(%level) [%thread] R:%X{requestId} %blue(%logger) %message%n%xException'
