server:
  shutdownGracePeriod: 10s
  applicationConnectors:
    - type: http
      port: 9210
    - type: https
      port: 9291
      keyStorePath: data/security/developer.keystore
      keyStorePassword: changeme
      certAlias: developer.internal.tink.se
      trustStorePath: data/security/TinkCA.truststore
      trustStorePassword: changeme
      # Validation disabled since Dropwizard/Jetty tries to check revocation of our homebrewed certs, which fails.
      validateCerts: false
  adminConnectors:
    - type: http
      port: 8090


cluster: TINK

administrativeMode: ["ccccccelgiev", "ccccccflgngc"]

developmentMode: true

integrations:
  seb:
    mortgage:
      https: false
      targetHost: 10.1.18.10:10090
      apiVersion: v1.0
      httpHeaders:
        Authorization: "Bearer ASK_JOHANNES"
        Host: tink-api.seb.se:10443
  sbab:
    signBaseUrl: https://secure.sbab.se
    mortgage:
      https: false
      targetHost: 10.10.1.120:10080
      username: sys_tink
      password: bytkod
      signBaseUrl: https://testsign.sbab.se


logging:
  level: INFO
  loggers:
    se.tink: TRACE
    se.tink.org.eclipse: INFO
    se.tink.backend.common.search.TransactionsSearcher: DEBUG
    org.hibernate: WARN
  appenders:
    - type: console
      threshold: ALL
      timeZone: Europe/Stockholm
      logFormat: '%magenta(%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"}) %highlight(%level) [%thread] R:%X{requestId} %blue(%logger) %message%n%xException'
    - type: file
      threshold: INFO
      currentLogFilename: /usr/share/tink-backend-main/log/tink-backend-main.log
      archive: true
      archivedLogFilenamePattern: /usr/share/tink-backend-main/log/tink-backend-main-%d.log.gz
      archivedFileCount: 5
      timeZone: Europe/Stockholm
      logFormat: '%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"} %level [%thread] R:%X{requestId} %logger %message%n%xException'

endpoints:
  system:
    url: http://localhost:9091/
    accessToken: devtoken
    pinnedCertificates:
      - "CERTSHA256:C050C78642605EE54DDBF2B38F7700EFAC77D19DC5388B807550D325574220E7"

coordination:
  hosts: 172.16.42.2:2181
