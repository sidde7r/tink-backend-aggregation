server:
  shutdownGracePeriod: 20s
  applicationConnectors:
    - type: http
      port: 9090
    - type: https
      port: 9091
      keyStorePath: data/security/developer.keystore
      keyStorePassword: changeme
      certAlias: developer.internal.tink.se
      trustStorePath: data/security/TinkCA.truststore
      trustStorePassword: changeme
      # Validation disabled since Dropwizard/Jetty tries to check revocation of our homebrewed certs, which fails.
      validateCerts: false
  adminConnectors:
    - type: http
      port: 8090

grpc:
  port: 9998

endpoints:
  api:
    url: http://www.staging.tink.se/api/v1
  main:
    url: http://localhost:9090/
  system:
    url: http://localhost:9090/
    accessToken: devtoken
  aggregation:
    url: http://localhost:9090/
    accessToken: devtoken
  analytics:
    url: http://localhost:9090/
  encryption:
    url: http://localhost:9090/
    accessToken: devtoken
  connector:
    url: http://localhost:9090/
  fasttext:
    url: http://localhost:9090/

cluster: TINK

flags:
  register:
    SE:
      FRAUD_PROTECTION: 1
      TINK_EMPLOYEE: 1
      APPLICATIONS: 1
  dynamicInheritance:
    APPLICATIONS:
        - TRANSFERS
        - BILLPAY
        - SHOW_BANK_LOGO
        - APPLICATIONS_INTERCOM_CHAT
        - RESIDENCE_TAB
        - IOS_MORTGAGE_TAKE_OVER
    IOS_BETA:
        - RESIDENCE_VALUATION
    TINK_EMPLOYEE:
        - RESIDENCE_VALUATION

developmentMode: true

distributedDatabase:
  seeds:
    - 172.16.42.2
  enabled: true

database:
  driverClass: com.mysql.jdbc.Driver
  username: tink
  password: tink
  url: jdbc:mysql://172.16.42.2/tink?useLocalSessionState=true&rewriteBatchedStatements=true&useSSL=true&verifyServerCertificate=false
  showSql: false
  persistenceUnitName: tink-combined-api
  generateDdl: true
  maxPoolSize: 40

cache:
  hosts: 172.16.42.2:11211
  enabled: true

creditsafe:
  username: TINKTESTIN
  password: cU7356rwx

coordination:
  hosts: 172.16.42.2:2181

notifications:
  startHourOfDay: 9
  endHourOfDay: 22
  applications:
    se.tink.frontend.mobile:
      apple:
        topic: se.tink.iphone
        keystore:
          filename: enterprise.p12
          password: AgtZfUBuvQhF9Cr9nHsbqx]RBLfat2CH
      google:
        apiKey: AIzaSyBbD-9t5m3EnL9U8vxD-3qrg9OKUrVZ92g

aggregationWorker:
  collectorSubscriptionKey: ASK_JOHANNES

integrations:
  seb:
    mortgage:
      https: false
      targetHost: 10.1.18.10:10090
      apiVersion: v1.0
      httpHeaders:
        Authorization: "Bearer ASK_JOHANNES"
        Host: tink-api.seb.se:10443
  sbab:
    signBaseUrl: https://secure.sbab.se
    mortgage:
      https: false
      targetHost: 10.10.1.120:10080
      username: sys_tink
      password: bytkod
      signBaseUrl: https://testsign.sbab.se

transfers:
  enabled: true
  duplicateTime: 1
  aggregationTime: 5
  bankTransferThreshold: 1000
  paymentThreshold: 20000

logging:
  level: INFO
  loggers:
    se.tink: DEBUG
    se.tink.org.eclipse: INFO
    org.hibernate: WARN
    org.apache.hadoop: INFO
    org.apache.http.client.protocol.ResponseProcessCookies: ERROR
  appenders:
    - type: console
      threshold: ALL
      timeZone: Europe/Stockholm
      logFormat: '%magenta(%date{"yyyy-MM-dd HH:mm:ss,SSSXXX"}) %highlight(%level) [%thread] R:%X{requestId} %blue(%logger) %message%n%xException'
