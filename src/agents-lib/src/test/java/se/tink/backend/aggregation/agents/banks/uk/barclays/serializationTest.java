package se.tink.backend.aggregation.agents.banks.uk.barclays;

import org.apache.commons.codec.binary.Hex;
import org.assertj.core.api.Assertions;
import org.junit.Ignore;
import org.junit.Test;
import se.tink.backend.aggregation.agents.banks.uk.barclays.rpc.deviceregistration.DeviceRegStep1Response;

@Ignore
public class serializationTest {

    @Test
    public void responseDeserialization() {
        BarclaysSession session = null;
        byte[] data = null;
        try {
            session = new BarclaysSession(Hex.decodeHex("ca3989482daac05b1977bdf8b52d54a5bb5c73e3d35ff8931478d6b2d79e5491".toCharArray()));
            data = Hex.decodeHex("4CF0F35590D8E602AC9306B231A700C27CC0C365A0B58AC299AFEECF0E3C1BB129FC78189ED8E603509819157DE5563DA6A9D7A381D69A179CF3AAE8A91D6D1B16AF5FECD83CAB52A0E281EA0A43496661B053217C60F2ABCAFD9F54596788A9F7C9CAFF0146C13F94EDE65E4ED8AE8FA2F5DB572E4095D2EA8EA767F9F655D804CEA3DBC6F2CB43A81FBB205BF536999D349D60BF5BA4DB21FF4E3C8BD76A017229EA426EE52FA36DBC782D8E10EA9236B242A97B7E93EBE00A34B32A6236BDF83472387D16A65145E774427396F0501BE2DCB69F26A8D968FC9464F2F0C9E524113D733931D724F9683C8110CD6DFA227E2F31CE8A7A15DDD9F5E61859151C5224A6C5ECE205B9513BDA2FA5939841CFBF4764DF761AD3921E0093DA96BA12A71DC053C7414B1FA83ACAD91314F427D8027CE930CEF251CBA74A54FC21B0E7D5DC51C67320C1A660227B61A3BAC3B6FC79AE806523016CCF02C06329E35A27FEEF0F01C6CBD559E5E24DE4E01533B291C57986AD458FA59D3384B7BBF5B68C1A9C3957D7FE356306FECB573E95679AA607C6923BA6CDC4B140A66A51F0170AD236D77855A5C40F729F69A384A5A12EE22C1610C73FBCB226B2BE1CE160DC5E6559466B882DF827F844A98951B09BABBE33984499A2E906C3A0AC6F0475136834AE2EE774211FD8223445C11D5B6B5071960AFEFE13EE8623E342D2".toCharArray());
        } catch (Exception e) {
        }

        DeviceRegStep1Response a = BarclaysUtils.deserializeResponse(session, data, DeviceRegStep1Response.class);
        Assertions.assertThat("434p-01-11".equals(a.getOp_gsn()));
    }
}
