load("//tools/bzl:junit.bzl", "junit_test")

junit_test(
    name = "qsealc-signer",
    srcs = glob(["**/*.java"]),
    data = [
        "//src/tink-integration-eidas-proxy/etc:development-configuration.yaml",
        "//src/tink-integration-eidas-proxy/etc:test-configuration.yaml",
        "//src/tink-integration-eidas-proxy/etc/test-certs:ca_cert.pem",
        "//src/tink-integration-eidas-proxy/etc/test-certs:eidas_client.p12",
        "//src/tink-integration-eidas-proxy/etc/test-certs:eidas_dev_ca.jks",
        "//src/tink-integration-eidas-proxy/etc/test-certs:server_cert.pem",
        "//src/tink-integration-eidas-proxy/etc/test-certs:server_key.pem",
        "//src/tink-integration-eidas-proxy/etc/test-certs:proxy.p12",
    ],
    deps = [
        "//src/libraries/health_check_handler",
        "//src/libraries/simple_http_server",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy:tink-integration-eidas-proxy",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/configuration",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/entities",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/healthchecks",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/lib",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/pades",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/proxy",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/service",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/sign",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/sign/handlers",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/sign/signers",
        "//src/tink-integration-eidas-proxy/src/main/java/se/tink/backend/tink_integration_eidas_proxy/vault",
        "//third_party/apache_httpclient45",
        "//third_party/guava",
        "//third_party/jetty_server9",
        "//third_party/log4j",
        "//third_party/netty",
        "//third_party/prometheus_simpleclient:httpserver",
        "//third_party/prometheus_simpleclient:jetty",
        "//third_party/snakeyaml",
        "//third_party/vault_driver",
        "@com_github_rholder_guava_retrying//jar",
    ],
)
