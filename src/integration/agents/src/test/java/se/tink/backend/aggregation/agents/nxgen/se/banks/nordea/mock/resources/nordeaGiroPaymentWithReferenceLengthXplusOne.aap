
REQUEST 1
POST https://private.nordea.se/api/dbf/ca/token-service-v3/oauth/token
Accept: application/json
Content-Type: application/x-www-form-urlencoded

client_id=NDHMSE&grant_type=refresh_token&refresh_token=**MASKED0M**

-----------------------------------------------------------------------------------
RESPONSE 1
200
Date: Wed, 25 Aug 2021 11:34:10 GMT
Content-Type: application/json

{
  "access_token": "**MASKEDR7**",
  "expires_in": 180,
  "token_type": "**MASKEDcQ**",
  "refresh_token": "**MASKEDGx**",
  "scope": "ndf agreement openid offline_access",
  "uh": "**MASKEDSy**"
}

-----------------------------------------------------------------------------------
REQUEST 2
GET https://private.nordea.se/api/dbf/ca/payments-v2/payments/?status=unconfirmed%2Cconfirmed%2Crejected%2Cinprogress
Accept: application/json
Content-Type: application/json

-----------------------------------------------------------------------------------
RESPONSE 2 SET STATE3
200
Date: Wed, 25 Aug 2021 11:34:10 GMT
Content-Type: application/json

{
  "results": [
    {
      "id": "2311194492603",
      "from": "3265123456",
      "from_account_number_type": "LBAN-SE",
      "from_currency": "SEK",
      "to": "56428568",
      "to_account_number_type": "BG",
      "recipient_name": "Unionens A-kassa",
      "reference": "",
      "amount": 140.0,
      "status": "confirmed",
      "type": "bankgiro",
      "due": "2021-08-31",
      "currency": "SEK",
      "permissions": {
        "delete": true,
        "copy": true,
        "modify": {
          "from": true,
          "to": true,
          "amount": true,
          "due": true,
          "message": true,
          "recurring_count": true,
          "recurring_interval": true,
          "recurring_repeats": true,
          "recurring_lastday": true,
          "type": true
        }
      },
      "credit_notes": []
    }
  ],
  "errors": []
}

-----------------------------------------------------------------------------------
REQUEST 3 MATCH STATE3
GET https://private.nordea.se/api/dbf/ca/accounts-v3/accounts/
Content-Type: application/json
Accept: application/json

-----------------------------------------------------------------------------------
RESPONSE 3 SET STATE4
200
Date: Wed, 25 Aug 2021 11:34:11 GMT
Content-Type: application/json

{
  "result": [
    {
      "account_id": "NAID-SE-SEK-3265123456",
      "display_account_number": "3265 01 70425",
      "iban": "SE973000000003265123456",
      "bic": "NDEASESS",
      "country_code": "SE",
      "product_code": "SE4001",
      "product_name": "PERSONKONTO",
      "nickname": "PERSONKONTO",
      "product_type": "Transaktionskonton",
      "category": "transaction",
      "account_status": "open",
      "booked_balance": 673.70,
      "credit_limit": 0.00,
      "available_balance": 673.70,
      "currency": "SEK",
      "roles": [
        {
          "name": "HE,SAI",
          "role": "owner",
          "current_user": true
        }
      ],
      "permissions": {
        "can_view": true,
        "can_view_transactions": true,
        "can_pay_from_account": true,
        "can_transfer_from_account": true,
        "can_transfer_to_account": true,
        "can_deposit_to_account": true,
        "can_pay_eligible": true,
        "can_pay_pgbg_from_account": true
      },
      "transaction_list_search_criteria": {
        "can_use_start_date": true,
        "min_start_date": "2020-05-25",
        "can_use_end_date": true,
        "can_use_lowest_amount": true,
        "can_use_highest_amount": true,
        "can_use_free_text": true,
        "sort_by_list": [
          "transaction_date_desc"
        ]
      },
      "source_system": "accounts_se_11digit",
      "data_retrieved_from": "from_source_system"
    },
    {
      "account_id": "NAID-SE-SEK-3265654321",
      "display_account_number": "3265 20 55275",
      "iban": "SE033000000003265654321",
      "bic": "NDEASESS",
      "country_code": "SE",
      "product_code": "SE1145",
      "product_name": "FÖRMÅNSKONTO",
      "nickname": "FÖRMÅNSKONTO",
      "product_type": "Sparkonton",
      "category": "savings",
      "account_status": "open",
      "booked_balance": 52651.00,
      "credit_limit": 0.00,
      "available_balance": 52651.00,
      "currency": "SEK",
      "roles": [
        {
          "name": "HE,SAI",
          "role": "owner",
          "current_user": true
        }
      ],
      "permissions": {
        "can_view": true,
        "can_view_transactions": true,
        "can_pay_from_account": true,
        "can_transfer_from_account": true,
        "can_transfer_to_account": true,
        "can_deposit_to_account": true,
        "can_pay_eligible": true,
        "can_pay_pgbg_from_account": false
      },
      "transaction_list_search_criteria": {
        "can_use_start_date": true,
        "min_start_date": "2020-05-25",
        "can_use_end_date": true,
        "can_use_lowest_amount": true,
        "can_use_highest_amount": true,
        "can_use_free_text": true,
        "sort_by_list": [
          "transaction_date_desc"
        ]
      },
      "source_system": "accounts_se_11digit",
      "data_retrieved_from": "from_source_system"
    }
  ],
  "sub_system_errors": []
}

-----------------------------------------------------------------------------------
REQUEST 4 MATCH STATE4
GET https://private.nordea.se/api/dbf/ca/beneficiary-v1/beneficiaries
Content-Type: application/json
Accept: application/json

-----------------------------------------------------------------------------------
RESPONSE 4 SET STATE5
200
Date: Wed, 25 Aug 2021 11:34:11 GMT
Content-Type: application/json

{
  "beneficiaries": [
    {
      "beneficiary_id": "5e67b158-212e-418c-a740-04dbf9b5ac59",
      "payment_type": "bankgiro",
      "name": "Avgift",
      "beneficiary_address": {},
      "account_number": "7762818",
      "account_number_type": "BG",
      "bank_address": {}
    },
    {
      "beneficiary_id": "27ae37d7-f010-45e1-aa7c-6384a9d6752b",
      "payment_type": "plusgiro",
      "name": "If",
      "beneficiary_address": {},
      "account_number": "8227001",
      "account_number_type": "PG",
      "bank_address": {}
    },
    {
      "beneficiary_id": "3cbc4a25-27a9-4e62-a1ea-5f7ffd9e0715",
      "payment_type": "lban",
      "name": "isk",
      "beneficiary_address": {},
      "account_number": "95527426306",
      "account_number_type": "LBAN-SE",
      "bank_address": {},
      "bank_code": "AVANZ",
      "bank_name": "Avanza"
    },
    {
      "beneficiary_id": "98ad1b6c-29f2-49e4-822f-db9efa6caa59",
      "payment_type": "bankgiro",
      "name": "Swedbank Credit Card",
      "beneficiary_address": {},
      "account_number": "51225860",
      "account_number_type": "BG",
      "bank_address": {},
      "bank_code": "FSPA",
      "bank_name": "Swedbank"
    },
    {
      "beneficiary_id": "07106ff4-391d-4919-b63b-458200e31432",
      "payment_type": "bankgiro",
      "name": "Telia",
      "beneficiary_address": {},
      "account_number": "8200040",
      "account_number_type": "BG",
      "bank_address": {}
    },
    {
      "beneficiary_id": "f2d08dce-b248-42bb-94d4-c53f45a05434",
      "payment_type": "bankgiro",
      "name": "UN",
      "account_number": "56073703",
      "account_number_type": "BG"
    },
    {
      "beneficiary_id": "da363bf1-6b16-43bf-bc29-a85c5d188fcd",
      "payment_type": "bankgiro",
      "name": "Unionen",
      "beneficiary_address": {},
      "account_number": "3228756",
      "account_number_type": "BG",
      "bank_address": {}
    },
    {
      "beneficiary_id": "96887577-f490-487d-a910-5bd825476e0a",
      "payment_type": "bankgiro",
      "name": "Unionens A-kassa",
      "beneficiary_address": {},
      "account_number": "56428568",
      "account_number_type": "BG",
      "bank_address": {}
    },
    {
      "beneficiary_id": "9c70fd65-0b25-4fb9-868a-dbe20cc32755",
      "payment_type": "lban",
      "name": "Y W",
      "beneficiary_address": {},
      "account_number": "832799236123456",
      "account_number_type": "LBAN-SE",
      "bank_address": {},
      "bank_code": "FSPA",
      "bank_name": "Swedbank"
    }
  ]
}

-----------------------------------------------------------------------------------
REQUEST 5 MATCH STATE5
POST https://private.nordea.se/api/dbf/ca/payments-v2/payments/
Accept: application/json
Content-Type: application/json

{
  "speed": "normal",
  "currency": "SEK",
  "amount": 1.59,
  "from": "3265123456",
  "to": "51225860",
  "message": "1234567891234",
  "type": "bankgiro",
  "due": "2022-06-03",
  "bank_name": "Swedbank",
  "recipient_name": "Swedbank Credit Card",
  "to_account_number_type": "BG"
}

-----------------------------------------------------------------------------------
RESPONSE 5 SET STATE6
400
Date: Wed, 25 Aug 2021 11:34:11 GMT
Content-Type: application/json

{
  "http_status": 400,
  "error": "BESE1009",
  "error_description": "Error in reference number (OCR)",
  "details": [
    {
      "more_info": "bad_request: Error in reference number (OCR)",
      "reason": "BESE1009"
    }
  ]
}