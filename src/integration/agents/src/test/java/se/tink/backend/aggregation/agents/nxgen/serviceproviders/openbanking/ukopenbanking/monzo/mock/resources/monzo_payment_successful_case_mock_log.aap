REQUEST 1
GET https://api.monzo.com/open-banking/.well-known/openid-configuration
x-fapi-financial-id: 001580000103U9RAAU
X-Aggregator: Tink Testing

RESPONSE 1
200
Connection: keep-alive
Content-Type: application/json
Date: Thu, 03 Dec 2020 08:06:42 GMT
Transfer-Encoding: chunked
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
X-Content-Type-Options: nosniff
Server: cloudflare

{"issuer":"https://api.monzo.com/open-banking/","registration_endpoint":"https://openbanking.monzo.com/oauth2/register","authorization_endpoint":"https://verify.monzo.com/open-banking/authorize","token_endpoint":"https://openbanking.monzo.com/oauth2/token","token_endpoint_auth_methods_supported":["client_secret_post","tls_client_auth"],"jwks_uri":"https://keystore.openbanking.org.uk/001580000103U9RAAU/KM71NjuERWSOVWbve6UWqg.jwks","scopes_supported":["payments","openid","accounts"],"claims_supported":["openbanking_intent_id","sub","acr"],"response_types_supported":["code id_token"],"subject_types_supported":["public"],"grant_types_supported":["authorization_code","client_credentials","refresh_token"],"id_token_signing_alg_values_supported":["PS256"],"id_token_encryption_alg_values_supported":["RS256","PS256"],"response_modes_supported":["fragment"],"request_object_signing_alg_values_supported":["RS256","PS256"],"request_parameter_supported":true,"claims_parameter_supported":true}

REQUEST 2
POST https://openbanking.monzo.com/oauth2/token
Content-Type: application/x-www-form-urlencoded
Accept: application/json
X-Aggregator: Tink Testing
x-fapi-financial-id: 001580000103U9RAAU

grant_type=client_credentials&scope=payments&redirect_uri=https%3A%2F%2F127.0.0.1%3A7357%2Fapi%2Fv1%2Fthirdparty%2Fcallback&client_id=dummyClientId

RESPONSE 2
200
Cache-Control: no-cache
Content-Length: 316
Content-Type: application/json; charset=UTF-8
Date: Thu, 03 Dec 2020 08:06:42 GMT
Pragma: no-cache
X-Fapi-Financial-Id: 001580000103U9RAAU
X-Fapi-Interaction-Id: 00000000-0000-4000-0000-000000000000

{"token_type":"Bearer","access_token":"DUMMY_ACCESS_TOKEN","expires_in":3600,"scope":""}

REQUEST 3
POST https://openbanking.monzo.com/open-banking/v3.1/pisp/domestic-payment-consents
Accept: application/json
Content-Type: application/json; charset=UTF-8
X-Aggregator: Tink Testing
x-idempotency-key: 0000000000000000
Authorization: Bearer DUMMY_ACCESS_TOKEN
x-fapi-financial-id: 001580000103U9RAAU
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000
x-jws-signature: RkFLRV9TSUdOQVRVUkUK

{"Risk":{"PaymentContextCode":"Other"},"Data":{"Initiation":{"RemittanceInformation":{"Unstructured":"UK Demo","Reference":"UK Demo"},"EndToEndIdentification":"ba609c915c584e47a05b53c4de13bef","InstructionIdentification":"ba609c915c584e47a05b53c4de13bef4","CreditorAccount":{"SchemeName":"UK.OBIE.SortCodeAccountNumber","Identification":"12345678901234","Name":"Dummy creditor name"},"InstructedAmount":{"Amount":"10.00","Currency":"GBP"}}}}

RESPONSE 3
201
Content-Length: 656
Content-Type: application/json; charset=UTF-8
Date: Thu, 03 Dec 2020 08:06:42 GMT
X-Fapi-Financial-Id: 001580000103U9RAAU
X-Fapi-Interaction-Id: 00000000-0000-4000-0000-000000000000
X-Jws-Signature: RkFLRV9TSUdOQVRVUkUK

{"Data":{"Initiation":{"InstructionIdentification":"ba609c915c584e47a05b53c4de13bef4","EndToEndIdentification":"ba609c915c584e47a05b53c4de13bef","InstructedAmount":{"Amount":"10.00","Currency":"GBP"},"CreditorAccount":{"SchemeName":"UK.OBIE.SortCodeAccountNumber","Identification":"12345678901234","Name":"Dummy creditor name"},"RemittanceInformation":{"Unstructured":"UK Demo","Reference":"UK Demo"}},"ConsentId":"obpispdomesticpaymentconsent_0000A1olrLAZAZb0T3CN85","CreationDateTime":"2020-12-03T08:06:43.028Z","Status":"AwaitingAuthorisation","StatusUpdateDateTime":"2020-12-03T08:06:43.028Z"},"Risk":{"PaymentContextCode":"Other"}}

REQUEST 4
GET https://keystore.openbanking.org.uk/001580000103U9RAAU/KM71NjuERWSOVWbve6UWqg.jwks
X-Aggregator: Tink Testing
x-fapi-financial-id: 001580000103U9RAAU

RESPONSE 4
200
Content-Type: application/jwk+json
Content-Length: 14418
Connection: keep-alive
Last-Modified: Fri, 27 Nov 2020 16:55:33 GMT
Accept-Ranges: bytes
Server: AmazonS3
Date: Thu, 03 Dec 2020 08:06:54 GMT

{"keys" : []}

REQUEST 5
POST https://openbanking.monzo.com/oauth2/token
Content-Type: application/x-www-form-urlencoded
Accept: application/json
X-Aggregator: Tink Testing
x-fapi-financial-id: 001580000103U9RAAU

grant_type=authorization_code&redirect_uri=https%3A%2F%2F127.0.0.1%3A7357%2Fapi%2Fv1%2Fthirdparty%2Fcallback&client_id=dummyClientId&code=DUMMY_AUTH_CODE

RESPONSE 5
200
Cache-Control: no-cache
Content-Length: 1615
Content-Type: application/json; charset=UTF-8
Date: Thu, 03 Dec 2020 08:06:53 GMT
Pragma: no-cache
X-Fapi-Financial-Id: 001580000103U9RAAU
X-Fapi-Interaction-Id: 00000000-0000-4000-0000-000000000000

{"access_token":"DUMMY_ACCESS_TOKEN2","token_type":"Bearer","expires_in":3600,"refresh_token":"REFRESH_TOKEN","scope":"openid payments accounts","id_token":"DUMMY_ACCESS_TOKEN2"}

REQUEST 6
GET https://openbanking.monzo.com/open-banking/v3.1/pisp/domestic-payment-consents/obpispdomesticpaymentconsent_0000A1olrLAZAZb0T3CN85/funds-confirmation
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000
Accept: application/json
x-fapi-financial-id: 001580000103U9RAAU
x-idempotency-key : 0000000000000000
X-Aggregator: Tink Testing

RESPONSE 6
200
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
Server: Apache
X-Content-Type-Options: nosniff
X-Download-Options: noopen,noopen
Referrer-Header: no-referrer,no-referrer
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, must-revalidate,no-cache;no-store
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000

{"Data":{"FundsAvailableResult":{"FundsAvailableDateTime":"2021-03-03T15:17:40Z","FundsAvailable":true}},"Links":{"Self":"https://openbanking-ma.santander.co.uk/sanuk/external/open-banking/v3.1/pisp/domestic-payment-consents/189a281e-f7d9-4dc7-bd0c-b47a2d5a8a50/funds-confirmation"},"Meta":{}}

REQUEST 7
POST https://openbanking.monzo.com/open-banking/v3.1/pisp/domestic-payments
Accept: application/json
Content-Type: application/json; charset=UTF-8
x-idempotency-key: 0000000000000000
x-jws-signature: RkFLRV9TSUdOQVRVUkUK
X-Aggregator: Tink Testing
x-fapi-financial-id: 001580000103U9RAAU
Authorization: Bearer DUMMY_ACCESS_TOKEN2
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000

{"Risk":{"PaymentContextCode":"Other"},"Data":{"ConsentId":"obpispdomesticpaymentconsent_0000A1olrLAZAZb0T3CN85","Initiation":{"RemittanceInformation":{"Unstructured":"UK Demo","Reference":"UK Demo"},"EndToEndIdentification":"ba609c915c584e47a05b53c4de13bef","InstructionIdentification":"ba609c915c584e47a05b53c4de13bef4","CreditorAccount":{"SchemeName":"UK.OBIE.SortCodeAccountNumber","Identification":"12345678901234","Name":"Dummy creditor name"},"InstructedAmount":{"Amount":"10.00","Currency":"GBP"}}}}

RESPONSE 7
201
Content-Length: 773
Content-Type: application/json; charset=UTF-8
Date: Thu, 03 Dec 2020 08:06:53 GMT
X-Fapi-Financial-Id: 001580000103U9RAAU
X-Fapi-Interaction-Id: 00000000-0000-4000-0000-000000000000
X-Jws-Signature: RkFLRV9TSUdOQVRVUkUK

{"Data":{"Initiation":{"InstructionIdentification":"ba609c915c584e47a05b53c4de13bef4","EndToEndIdentification":"ba609c915c584e47a05b53c4de13bef","InstructedAmount":{"Amount":"10.00","Currency":"GBP"},"CreditorAccount":{"SchemeName":"UK.OBIE.SortCodeAccountNumber","Identification":"12345678901234","Name":"Dummy creditor name"},"RemittanceInformation":{"Unstructured":"UK Demo","Reference":"UK Demo"}},"ConsentId":"obpispdomesticpaymentconsent_0000A1olrLAZAZb0T3CN85","DomesticPaymentId":"obdompayment_0000A1olsLdmu1xI9fLoMT","CreationDateTime":"2020-12-03T08:06:53.951Z","Status":"Pending","StatusUpdateDateTime":"2020-12-03T08:06:53.951Z","ExpectedExecutionDateTime":"2020-12-03T08:06:53.951Z","ExpectedSettlementDateTime":"2020-12-03T08:06:53.951Z"}}

REQUEST 8
GET https://openbanking.monzo.com/open-banking/v3.1/pisp/domestic-payments/obdompayment_0000A1olsLdmu1xI9fLoMT
Authorization: Bearer DUMMY_ACCESS_TOKEN
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000
Accept: application/json
x-fapi-financial-id: 001580000103U9RAAU
x-idempotency-key : 0000000000000000
X-Aggregator: Tink Testing

RESPONSE 8
200
Content-Type: application/json;charset=UTF-8
x-fapi-interaction-id: 00000000-0000-4000-0000-000000000000

{"Data":{"Initiation":{"InstructionIdentification":"ba609c915c584e47a05b53c4de13bef4","EndToEndIdentification":"ba609c915c584e47a05b53c4de13bef","InstructedAmount":{"Amount":"10.00","Currency":"GBP"},"CreditorAccount":{"SchemeName":"UK.OBIE.SortCodeAccountNumber","Identification":"12345678901234","Name":"Dummy creditor name"},"RemittanceInformation":{"Unstructured":"UK Demo","Reference":"UK Demo"}},"ConsentId":"obpispdomesticpaymentconsent_0000A1olrLAZAZb0T3CN85","DomesticPaymentId":"obdompayment_0000A1olsLdmu1xI9fLoMT","CreationDateTime":"2020-12-03T08:06:53.951Z","Status":"AcceptedSettlementCompleted","StatusUpdateDateTime":"2020-12-03T08:06:53.951Z","ExpectedExecutionDateTime":"2020-12-03T08:06:53.951Z","ExpectedSettlementDateTime":"2020-12-03T08:06:53.951Z"}}
