REQUEST 1 MATCH Started
POST https://fsts.skandia.se/as/token.oauth2
Content-Type: application/x-www-form-urlencoded

redirect_uri=https%3A%2F%2F127.0.0.1%3A7357%2Fapi%2Fv1%2Fthirdparty%2Fcallback&grant_type=authorization_code&code=dummyCode&client_id=dummyClient&client_secret=dummySecret

RESPONSE 1 SET STATE2
200
Content-Type: application/json;charset=utf-8

{
    "access_token": "dummyToken",
    "expires_in": 7200,
    "refresh_token": "wVO02fhdy5tYZLN8W8gJkGLSKr0CYkapZPzRQigtHD",
    "token_type": "Bearer"
}

REQUEST 2 MATCH STATE2
POST https://apis.skandia.se/open-banking/core-bank/pis/v2/payments/giro-domestic-credit-transfer
Accept: application/json
Content-Type: application/json
Authorization: Bearer dummyToken

{
    "creditorAccount": {
        "accountReferenceOther": {
            "identification": "11111111",
            "identificationType": "BANKGIRO"
        }
    },
    "debtorAccount": {
        "bban": "12345654321"
    },
    "instructedAmount": {
        "amount": "1.00",
        "currency": "SEK"
    },
    "remittanceInformationUnstructuredArray": [
        "PeaceAndLove"
    ]
}

RESPONSE 2 SET STATE3
201
Content-Type: application/json;charset=utf-8

{

  "transactionStatus": "RCVD",

  "paymentId": "915009393054135",

  "_links": {

    "startAuthorisation": {

      "href": "payments/giro-domestic-credit-transfer/915009393054135/authorisations"

    },

    "self": {

      "href": "payments/giro-domestic-credit-transfer/915009393054135"

    },

    "status": {

      "href": "payments/giro-domestic-credit-transfer/915009393054135/status"

    }

  }

}

REQUEST 3 MATCH STATE3
POST https://apis.skandia.se/open-banking/core-bank/pis/v2/payments/giro-domestic-credit-transfer/915009393054135/authorisations
Accept: application/json
Content-Type: application/json
Authorization: Bearer dummyToken
TPP-Redirect-URI: https://127.0.0.1:7357/api/v1/thirdparty/callback?state=00000000-0000-4000-0000-000000000000

{}

RESPONSE 3 SET STATE4
201
Content-Type: application/json;charset=utf-8

{

  "_links": {

    "scaRedirect": {

      "href": "https://signservice.skandia.se/7e0d8887-29d2-4d8f-a03c-46e63a57385f"

    },

    "status": {

      "href": "payments/giro-domestic-credit-transfer/915009393054135/status"

    },

    "self": {

      "href": "payments/giro-domestic-credit-transfer/915009393054135"

    }

  },

  "paymentId": "915009393054135",

  "transactionStatus": "ACSP"

}

REQUEST 4 MATCH STATE4
GET https://apis.skandia.se/open-banking/core-bank/pis/v2/payments/giro-domestic-credit-transfer/915009393054135
Accept: application/json
Content-Type: application/json
Authorization: Bearer dummyToken

RESPONSE 4 SET STATE5
200
Content-Type: application/json;charset=utf-8

{

  "creditorAccount": {

    "accountReferenceOther": {

      "identification": "11111111",

      "identificationType": "BANKGIRO"

    }

  },

  "debtorAccount": {

    "bban": "12345654321"

  },

  "requestedExecutionDate": "2021-06-15T00:00:00+02:00",

  "instructedAmount": {

    "amount": "4",

    "currency": "SEK"

  },

  "transactionStatus": "ACSP"

}
