
REQUEST 1
POST https://tpp-api.sebgroup.com/mga4/sps/oauth/oauth20/token
Accept: application/json
Content-Type: application/x-www-form-urlencoded

client_id=dummyClient&client_secret=dummySecret&redirect_uri=https%3A%2F%2F127.0.0.1%3A7357%2Fapi%2Fv1%2Fthirdparty%2Fcallback&grant_type=authorization_code&code=dummyCode&scope=psd2_accounts+psd2_payments

RESPONSE 1
200
Date: Sat, 10 Apr 2021 11:26:59 GMT
Date: Sat, 10 Apr 2021 11:27:00 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
x-frame-options: SAMEORIGIN
Cache-Control: no-store, no-cache=set-cookie
Expires: Thu, 01 Dec 1994 16:00:00 GMT
Pragma: no-cache
Strict-Transport-Security: max-age=15552000; includeSubDomains
Server: Jetty(9.4.z-SNAPSHOT)

{"access_token":"dummyToken","refresh_token":"dummyRefreshToken","scope":"psd2_accounts psd2_payments","token_type":"Bearer","expires_in":599}

REQUEST 2
GET https://tpp-api.sebgroup.com/tpp/ais/v1/identified4/branded-card-accounts
Accept: application/json
Content-Type: application/json

RESPONSE 2
200
Date: Sat, 10 Apr 2021 11:27:00 GMT
Date: Sat, 10 Apr 2021 11:27:01 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
Cache-Control: no-cache="set-cookie, set-cookie2",private
Expires: Thu, 01 Dec 1994 16:00:00 GMT
Strict-Transport-Security: max-age=15552000; includeSubDomains
Server: Jetty(9.4.z-SNAPSHOT)

{"cardAccounts":[{"resourceId":"123456789000000000000000000000000000","maskedPan":"525412******1234","currency":"SEK","name":"123456789","product":"SAS EuroBonus World Mastercard","balances":[{"balanceType":"interimAvaliable","balanceAmount":{"currency":"SEK","amount":20000.73},"creditLimitincluded":true},{"balanceType":"expected","balanceAmount":{"currency":"SEK","amount":29999.27},"creditLimitincluded":false},{"balanceType":"nonInvoiced","balanceAmount":{"currency":"SEK","amount":1000.73},"creditLimitincluded":false}],"creditLimit":{"currency":"SEK","amount":50000.0},"status":"enabled","usage":"202"}]}

REQUEST 3
GET https://tpp-api.sebgroup.com/tpp/ais/v1/identified4/branded-card-accounts/123456789000000000000000000000000000/transactions?bookingStatus=both
Accept: application/json
Content-Type: application/json

RESPONSE 3
200
Date: Sat, 10 Apr 2021 11:27:01 GMT
Date: Sat, 10 Apr 2021 11:27:02 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
Strict-Transport-Security: max-age=15552000; includeSubDomains
Server: Jetty(9.4.z-SNAPSHOT)

{"transactions":{"booked":[],"pending":[{"cardTransactionId":"mockedcardTransactionId1","valueDate":"2021-04-06","originalAmount":{"currency":"SEK","amount":100.01},"cardAcceptorCity":"STOCKHOLM","cardAcceptorCountryCode":"SE","transactionAmount":{"currency":"SEK","amount":100.01},"proprietaryBankTransactionCode":"UNKNOWN","exchangeRate":{"currencyFrom":"SEK","rate":1.0,"currencyTo":"SEK","rateDate":""},"transactionDetails":"Pending transaction 1","maskedPan":"525412******1234","invoiced":false,"nameOnCard":""}]}}

REQUEST 4
GET https://tpp-api.sebgroup.com/tpp/ais/v1/identified4/branded-card-accounts/123456789000000000000000000000000000/transactions?dateFrom=2021-03-01&dateTo=2021-03-31&bookingStatus=both
Accept: application/json
Content-Type: application/json

RESPONSE 4
200
Date: Sat, 10 Apr 2021 11:27:02 GMT
Date: Sat, 10 Apr 2021 11:27:02 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
Strict-Transport-Security: max-age=15552000; includeSubDomains
Server: Jetty(9.4.z-SNAPSHOT)

{"transactions":{"booked":[{"cardTransactionId":"mockedcardTransactionId2","bookingDate":"2021-03-31","valueDate":"2021-03-31","originalAmount":{"currency":"SEK","amount":-20123.45},"cardAcceptorCountryCode":"SE","transactionAmount":{"currency":"SEK","amount":-20123.45},"proprietaryBankTransactionCode":"PAYMENT","transactionDetails":"BG payment","maskedPan":"","invoiced":true,"nameOnCard":""},{"cardTransactionId":"mockedcardTransactionId3","bookingDate":"2021-03-30","valueDate":"2021-03-29","originalAmount":{"currency":"SEK","amount":500.0},"cardAcceptorCity":"STOCKHOLM","cardAcceptorCountryCode":"SE","transactionAmount":{"currency":"SEK","amount":500.0},"proprietaryBankTransactionCode":"PURCHASE","transactionDetails":"Booked transaction A","maskedPan":"525412******1234","invoiced":true,"nameOnCard":"LASTNAME FIRSTNAME"}],"pending":[]}}

REQUEST 5
GET https://tpp-api.sebgroup.com/tpp/ais/v1/identified4/branded-card-accounts/123456789000000000000000000000000000/transactions?dateFrom=2021-02-01&dateTo=2021-02-28&bookingStatus=both
Accept: application/json
Content-Type: application/json

RESPONSE 5
200
Date: Sat, 10 Apr 2021 11:27:02 GMT
Date: Sat, 10 Apr 2021 11:27:03 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
Strict-Transport-Security: max-age=15552000; includeSubDomains
Transfer-Encoding: chunked
Server: Jetty(9.4.z-SNAPSHOT)

{"transactions":{"booked":[{"cardTransactionId":"mockedcardTransactionId4","bookingDate":"2021-03-04","valueDate":"2021-02-28","originalAmount":{"currency":"SEK","amount":395.0},"cardAcceptorCountryCode":"SE","transactionAmount":{"currency":"SEK","amount":395.0},"proprietaryBankTransactionCode":"FEE","transactionDetails":"Ã…RSAVGIFT","maskedPan":"","invoiced":true,"nameOnCard":""},{"cardTransactionId":"mockedcardTransactionId5","bookingDate":"2021-03-01","valueDate":"2021-02-28","originalAmount":{"currency":"SEK","amount":1000.0},"cardAcceptorCity":"128-520-3333","cardAcceptorCountryCode":"LU","transactionAmount":{"currency":"SEK","amount":1000.0},"proprietaryBankTransactionCode":"PURCHASE","transactionDetails":"Booked transaction B","maskedPan":"525412******1234","invoiced":true,"nameOnCard":"LASTNAME FIRSTNAME"}],"pending":[]}}

REQUEST 6
GET https://tpp-api.sebgroup.com/tpp/ais/v1/identified4/branded-card-accounts/123456789000000000000000000000000000/transactions?dateFrom=2021-01-01&dateTo=2021-01-31&bookingStatus=both
Accept: application/json
Content-Type: application/json

RESPONSE 6
500
Date: Sat, 10 Apr 2021 11:27:03 GMT
Date: Sat, 10 Apr 2021 11:27:03 GMT
Content-Language: en-US
Content-Type: application/json;charset=utf-8
Strict-Transport-Security: max-age=15552000; includeSubDomains
Server: Jetty(9.4.z-SNAPSHOT)

{"error":{"errorCode":"301","correlationId":"436e4676-a915-48bd-90ec-414bbfd3f44c","developerMessage":"Unhandeled HostRC code: 2000 Error message is available."}}
