REQUEST 1
POST https://api-dsp2.boursorama.com/services/api/v1.7/_public_/authentication/oauth/token
Content-Type: application/json
X-Aggregator : Tink Testing

{"grant_type":"client_credentials","scope":"pisp","client_id":"PSDSE-FINA-44059"}

RESPONSE 1
200
Content-Type: application/json

{"token_type":"bearer","access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImtpZCI6IkhTMjU2In0.eyJpYXQiOjE2NDQ4Njc3NzYsImV4cCI6MTY0NDg2ODM3NiwianRpIjoiNjIwYWIwYzBiYzJmMyIsInN1YiI6Ik9BVVRIMl9EU1AyIiwiYXVkIjoiYm91cnNvcmFtYS5jb20iLCJuYmYiOjE2NDQ4Njc3NzYsIm9hdXRoIjoiNGNjYzY5MTcxOGUyMTRmMjAzNTAzMTJkODI0ZTU5NmNjZmRjY2M4MCIsInNjb3BlcyI6IlJPTEVfRFNQMl9QSVNQIn0.sW4H3d-vBkYQ2BjeYd3hxyQLWJTd8EGd2Tp3nsMLdVA","expires_in":600,"scope":"pisp"}

REQUEST 2
POST https://api-dsp2.boursorama.com/services/api/v1.7/_public_/dsp2/payment-requests
Accept: application/json
Content-Type: application/json
X-Aggregator: Tink Testing

{
    "requestedExecutionDate": "1992-04-10T00:01:00.000+02:00",
    "numberOfTransactions": 1,
    "initiatingParty": {
        "name": "TINK"
    },
    "paymentTypeInformation": {
        "serviceLevel": "SEPA",
        "localInstrument":"INST",
        "categoryPurpose": "CASH"
    },
    "debtorAccount": {
        "iban": "FR1261401750597365134612940"
    },
    "beneficiary": {
        "creditor": {
            "name": "Creditor Name"
        },
        "creditorAccount": {
            "iban": "FR1420041010050500013M02606"
        }
    },
    "creditTransferTransaction": [
        {
            "remittanceInformation": {
                "unstructured": [
                    "Message"
                ]
            },
            "instructedAmount": {
                "amount": 1.0,
                "currency": "EUR"
            }
        }
    ],
    "chargeBearer": "SLEV",
    "supplementaryData": {
        "acceptedAuthenticationApproach": [
            "REDIRECT"
        ],
        "successfulReportUrl": "https://api.tink.com/api/v1/credentials/third-party/callback?state=00000000-0000-4000-0000-000000000000",
        "unsuccessfulReportUrl": "https://api.tink.com/api/v1/credentials/third-party/callback?state=00000000-0000-4000-0000-000000000000"
    }
}

RESPONSE 2
201
Content-Type: application/json

{"appliedAuthenticationApproach":"REDIRECT","_links":{"consentApproval":{"href":"https:\/\/clients.boursorama.com\/feature-redirect?featureId=customer.accounts_cashtransfer_prebuilt_transfer_form&params%5BresourceId%5D=60ae87f0e2fba"}}}

REQUEST 3
GET https://api-dsp2.boursorama.com/services/api/v1.7/_public_/dsp2/payment-requests/60ae87f0e2fba
Accept: application/json
Content-Type: application/json
X-Aggregator: Tink Testing

RESPONSE 3
200
Content-Type: application/json

{
    "paymentRequest": {
        "requestedExecutionDate": "1992-04-10T00:01:00.000+02:00",
        "numberOfTransactions": 1,
        "initiatingParty": {
            "name": "TINK"
        },
        "paymentTypeInformation": {
            "serviceLevel": "SEPA",
            "localInstrument":"INST",
            "categoryPurpose": "CASH"
        },
        "debtorAccount": {
            "iban": "FR1261401750597365134612940"
        },
        "beneficiary": {
            "creditor": {
                "name": "Creditor Name"
            },
            "creditorAccount": {
                "iban": "FR1420041010050500013M02606"
            }
        },
        "creditTransferTransaction": [
            {
                "remittanceInformation": {
                    "unstructured": [
                        "Message"
                    ]
                },
                "instructedAmount": {
                    "amount": 1.0,
                    "currency": "EUR"
                }
            }
        ],
        "chargeBearer": "SLEV",
        "supplementaryData": {
            "acceptedAuthenticationApproach": [
                "REDIRECT"
            ],
            "successfulReportUrl": "https:\/\/127.0.0.1:7357\/api\/v1\/thirdparty\/callback?state=ce451ea8-3c7c-4211-82b3-59331956feed",
            "unsuccessfulReportUrl": "https:\/\/127.0.0.1:7357\/api\/v1\/thirdparty\/callback?state=ce451ea8-3c7c-4211-82b3-59331956feed",
            "appliedAuthenticationApproach": "REDIRECT"
        },
        "paymentInformationStatus": "PDNG",
        "resourceId": "60ae87f0e2fba",
        "booking": false,
        "fundsAvailability": true
    },
    "_links": {
        "request": {
            "href": "\/services\/api\/v1.7\/_public_\/dsp2\/payment-requests\/60ae87f0e2fba"
        }
    }
}
