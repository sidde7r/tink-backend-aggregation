REQUEST 1
GET https://api.psd.dnb.no/v1/consents/dummyConsentId
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0


RESPONSE 1
200
Date: Wed, 28 Jul 2021 07:52:35 GMT
Date: Wed, 28 Jul 2021 07:52:35 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "consentStatus": "valid",
  "access": {
    "accounts": [
      {
        "iban": "NO1234567890123"
      },
      {
        "iban": "NO3216549870321"
      },
      {
        "iban": "NO9876543210987"
      },
      {
        "iban": "NO1010101010987"
      }
    ],
    "balances": [
      {
        "iban": "NO1234567890123"
      },
      {
        "iban": "NO3216549870321"
      },
      {
        "iban": "NO9876543210987"
      },
      {
        "iban": "NO1010101010987"
      }
    ],
    "transactions": [
      {
        "iban": "NO1234567890123"
      },
      {
        "iban": "NO3216549870321"
      },
      {
        "iban": "NO9876543210987"
      },
      {
        "iban": "NO1010101010987"
      }
    ]
  },
  "recurringIndicator": true,
  "validUntil": "2021-10-25",
  "frequencyPerDay": 4,
  "lastActionDate": "2021-07-28T07:52:34Z",
  "_links": {
    "self": {
      "href": "/v1/consents/**HASHED:V/**/**HASHED:V/**"
    }
  }
}

REQUEST 2
GET https://api.psd.dnb.no/v1/accounts
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId

RESPONSE 2
200
Date: Wed, 28 Jul 2021 07:52:36 GMT
Date: Wed, 28 Jul 2021 07:52:36 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "accounts": [
    {
      "iban": "NO1010101010987",
      "bban": "9999999999",
      "currency": "NOK",
      "name": "SPAREKONTO",
      "bic": "DNBANOKKXXX",
      "_links": {
        "balances": {
          "href": "/v1/accounts/9999999999/balances"
        },
        "transactions": {
          "href": "/v1/accounts/9999999999/transactions"
        }
      },
      "ownerName": "OWNER NAME"
    },
    {
      "iban": "NO3216549870321",
      "bban": "1111111111",
      "currency": "NOK",
      "name": "BRUKSKONTO",
      "bic": "DNBANOKKXXX",
      "_links": {
        "balances": {
          "href": "/v1/accounts/1111111111/balances"
        },
        "transactions": {
          "href": "/v1/accounts/1111111111/transactions"
        }
      },
      "ownerName": "OWNER NAME"
    }
  ]
}

REQUEST 3
GET https://api.psd.dnb.no/v1/accounts/9999999999/balances
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 3
200
Date: Wed, 28 Jul 2021 07:52:36 GMT
Date: Wed, 28 Jul 2021 07:52:36 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "account": {
    "bban": "9999999999",
    "currency": "NOK"
  },
  "balances": [
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.81"
      },
      "balanceType": "openingBooked"
    },
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.81"
      },
      "balanceType": "authorised"
    },
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.81"
      },
      "balanceType": "expected"
    }
  ]
}

REQUEST 4
GET https://api.psd.dnb.no/v1/accounts/1111111111/balances
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 4
200
Date: Wed, 28 Jul 2021 07:52:36 GMT
Date: Wed, 28 Jul 2021 07:52:37 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "account": {
    "bban": "1111111111",
    "currency": "NOK"
  },
  "balances": [
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.58"
      },
      "balanceType": "openingBooked"
    },
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.58"
      },
      "balanceType": "authorised"
    },
    {
      "balanceAmount": {
        "currency": "NOK",
        "amount": "0.58"
      },
      "balanceType": "expected"
    }
  ]
}

REQUEST 5
GET https://api.psd.dnb.no/v1/card-accounts
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 5
200
Date: Wed, 28 Jul 2021 07:52:37 GMT
Date: Wed, 28 Jul 2021 07:52:38 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "cardAccounts": [
    {
      "resourceId": "7777777777",
      "maskedPan": "*******1234",
      "currency": "NOK",
      "ownerName": "OWNER NAME",
      "name": "",
      "product": "",
      "usage": "PRIV",
      "creditLimit": {
        "currency": "NOK",
        "amount": "0.00"
      },
      "balances": [
        {
          "balanceAmount": {
            "currency": "NOK",
            "amount": "0.00"
          },
          "balanceType": "interimAvailable"
        },
        {
          "balanceAmount": {
            "currency": "NOK",
            "amount": "0.00"
          },
          "balanceType": "forwardAvailable"
        }
      ],
      "_links": {
        "balances": {
          "href": "/v1/card-accounts/7777777777/balances"
        },
        "transactions": {
          "href": "/v1/card-accounts/7777777777/transactions"
        }
      }
    },
    {
      "resourceId": "83886456266",
      "maskedPan": "*******6789",
      "currency": "NOK",
      "ownerName": "OWNER NAME",
      "name": "",
      "product": "",
      "usage": "PRIV",
      "creditLimit": {
        "currency": "NOK",
        "amount": "0.00"
      },
      "balances": [
        {
          "balanceAmount": {
            "currency": "NOK",
            "amount": "-314.80"
          },
          "balanceType": "interimAvailable"
        },
        {
          "balanceAmount": {
            "currency": "NOK",
            "amount": "314.80"
          },
          "balanceType": "forwardAvailable"
        }
      ],
      "_links": {
        "balances": {
          "href": "/v1/card-accounts/83886456266/balances"
        },
        "transactions": {
          "href": "/v1/card-accounts/83886456266/transactions"
        }
      }
    }
  ]
}

REQUEST 6
GET https://api.psd.dnb.no/v1/accounts/9999999999/transactions?bookingStatus=both&dateFrom=1991-03-11&dateTo=1992-04-10
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 6
200
Date: Wed, 28 Jul 2021 07:52:38 GMT
Date: Wed, 28 Jul 2021 07:52:39 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000
Transfer-Encoding: chunked

{
  "account": {
    "bban": "9999999999"
  },
  "transactions": {
    "booked": [
      {
        "transactionId": "0116_0020029565445_0000001",
        "bookingDate": "2021-07-26",
        "valueDate": "2021-07-26",
        "dnbTransactionType": "Overføring Innland",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "-100.00"
        },
        "debtorAccount": {
          "bban": "9999999999"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      },
      {
        "transactionId": "0116_0019948445899_0000001",
        "bookingDate": "2021-07-09",
        "valueDate": "2021-07-09",
        "dnbTransactionType": "Overføring Innland",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "50.00"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      },
      {
        "transactionId": "0116_0019917307179_0000001",
        "bookingDate": "2021-07-02",
        "valueDate": "2021-07-02",
        "dnbTransactionType": "Overføring Innland",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "50.00"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      }
    ],
    "pending": []
  }
}

REQUEST 7
GET https://api.psd.dnb.no/v1/accounts/1111111111/transactions?bookingStatus=both&dateFrom=1991-03-11&dateTo=1992-04-10
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 7
200
Date: Wed, 28 Jul 2021 07:52:39 GMT
Date: Wed, 28 Jul 2021 07:52:40 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "account": {
    "bban": "1111111111"
  },
  "transactions": {
    "booked": [
      {
        "transactionId": "0116_0019277472305_0000002",
        "bookingDate": "2021-02-02",
        "valueDate": "2021-02-02",
        "dnbTransactionType": "Kontoregulering",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "330.00"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      },
      {
        "transactionId": "0116_0019220462696_0000001",
        "bookingDate": "2021-01-18",
        "valueDate": "2021-01-15",
        "dnbTransactionType": "Omkostninger",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "-35.00"
        },
        "debtorAccount": {
          "bban": "1111111111"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      },
      {
        "transactionId": "0116_0019168782211_0000001",
        "bookingDate": "2021-01-04",
        "valueDate": "2021-01-04",
        "dnbTransactionType": "Visa-kostnad",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "-295.00"
        },
        "debtorAccount": {
          "bban": "1111111111"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      },
      {
        "transactionId": "0116_0019155215887_0000001",
        "bookingDate": "2020-12-31",
        "valueDate": "2021-01-01",
        "dnbTransactionType": "Renter",
        "transactionAmount": {
          "currency": "NOK",
          "amount": "0.03"
        },
        "additionalInformation": "ADDITIONAL INFORMATION"
      }
    ],
    "pending": []
  }
}

REQUEST 8
GET https://api.psd.dnb.no/v1/card-accounts/7777777777/transactions?bookingStatus=both&dateFrom=1992-03-10&dateTo=1992-04-10
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 8
200
Date: Wed, 28 Jul 2021 07:52:40 GMT
Date: Wed, 28 Jul 2021 07:52:42 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "cardAccount": {
    "bban": "7777777777"
  },
  "cardTransactions": {},
  "_links": {
    "self": "/v1/card-accounts/7777777777/transactions"
  }
}


REQUEST 9
GET https://api.psd.dnb.no/v1/card-accounts/7777777777/transactions?bookingStatus=both&dateFrom=1992-02-09&dateTo=1992-03-09
Content-Type: application/json
Accept: application/json
X-Request-ID: 00000000-0000-4000-0000-000000000000
PSU-ID: dummyPsuId
PSU-IP-Address: 0.0.0.0
Consent-ID: dummyConsentId


RESPONSE 9
403
Date: Wed, 28 Jul 2021 07:52:42 GMT
Date: Wed, 28 Jul 2021 07:52:44 GMT
Content-Type: application/json;charset=utf-8
x-request-id: 00000000-0000-4000-0000-000000000000

{
  "tppMessages": [
    {
      "category": "ERROR",
      "code": 1,
      "path": "/v1/card-accounts/7777777777/transactions",
      "text": "An error occurred while processing your request. Please contact DNB for more information."
    }
  ]
}