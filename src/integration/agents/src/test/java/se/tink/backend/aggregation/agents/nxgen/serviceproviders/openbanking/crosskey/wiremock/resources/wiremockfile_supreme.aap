
-----------------------------------------------------------------------------------
REQUEST 1
POST https://open-banking.resurs.com/oidc/v1.0/token?client_id=dummyClientId
Content-Type: application/x-www-form-urlencoded
Accept: application/json

-----------------------------------------------------------------------------------
RESPONSE 1
200
Content-Length: 159
Content-Type: application/json;charset=utf-8

{"access_token": "accessToken", "refresh_token": "refreshToken", "scope": "openid accounts", "id_token": "tokenId", "token_type": "Bearer", "expires_in": 180 }

-----------------------------------------------------------------------------------
REQUEST 2
GET https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts
Accept: application/json
Content-Type: application/json
x-fapi-financial-id: resursbank

-----------------------------------------------------------------------------------
RESPONSE 2
200
Content-Type: application/json;charset=utf-8
RateLimit-Remaining: 596
RateLimit-Reset: 1
RateLimit-Limit: 600
X-RateLimit-Limit-Second: 600
X-RateLimit-Remaining-Second: 596
X-RateLimit-Remaining-Minute: 5996
X-RateLimit-Limit-Minute: 6000
Expires: 0
X-Content-Type-Options: nosniff
x-fapi-interaction-id: 00529efd-2f7b-40b6-9fc3-bc0b001e6b0d
X-Frame-Options: DENY
Content-Length: 362

{
  "Data": {
    "Account": [
      {
        "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
        "Currency": "SEK",
        "AccountType": "Personal",
        "AccountSubType": "CreditCard",
        "Description": "SUPREME CARD GOLD",
        "Account": [
          {
            "SchemeName": "UK.OBIE.PAN",
            "Identification": "528248XXXXXX9070",
            "Name": "-"
          }
        ]
      }
    ]
  },
  "Links": {
    "Self": "https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts"
  },
  "Meta": {}
}

-----------------------------------------------------------------------------------
REQUEST 2a
POST https://open-banking.resurs.com/open-banking/v3.1/aisp/account-access-consents
Content-Type: application/json
Accept: application/json

-----------------------------------------------------------------------------------
RESPONSE 2a
200
Content-Type: application/json;charset=utf-8

{"Data":{"ConsentId":"**HASHED:YH**","CreationDateTime":"**HASHED:TO**","Status":"**HASHED:0+**","StatusUpdateDateTime":"**HASHED:TO**","Permissions":["**HASHED:2c**","**HASHED:vO**","**HASHED:ce**","**HASHED:wc**","**HASHED:xz**"],"ExpirationDateTime":"**HASHED:Bp**"},"Risk":{},"Links":{"Self":"**HASHED:+2**/open-banking/v3.1/aisp/account-access-consents/**HASHED:YH**"},"Meta":{}}

-----------------------------------------------------------------------------------
REQUEST 4
GET https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts/ba04b986-8d64-11ea-8379-123456789012/balances
Accept: application/json
Content-Type: application/json
x-fapi-financial-id: resursbank

-----------------------------------------------------------------------------------
RESPONSE 4
200
Date: Thu, 04 Nov 2021 08:47:14 GMT
Date: Thu, 04 Nov 2021 08:47:14 GMT
Content-Type: application/json;charset=utf-8
X-Content-Type-Options: nosniff
x-fapi-interaction-id: 845d3189-4102-4039-99b2-46feb7772cd3
X-Frame-Options: DENY
Content-Length: 357

{
  "Data": {
    "Balance": [
      {
        "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
        "CreditDebitIndicator": "Credit",
        "Type": "InterimAvailable",
        "DateTime": "2021-11-04T08:47:14.59Z",
        "Amount": {
          "Amount": "11767.52",
          "Currency": "SEK"
        }
      }
    ]
  },
  "Links": {
    "Self": "https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts/ba04b986-8d64-11ea-8379-123456789012/balances"
  },
  "Meta": {}
}
-----------------------------------------------------------------------------------
REQUEST 5
GET https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts/ba04b986-8d64-11ea-8379-123456789012/transactions?toBookingDateTime=1992-04-09T00%3A00%3A00&fromBookingDateTime=1992-01-12T00%3A00%3A00
Accept: application/json
Content-Type: application/json
x-fapi-financial-id: resursbank

-----------------------------------------------------------------------------------
RESPONSE 5
403
Date: Thu, 04 Nov 2021 08:47:14 GMT
Date: Thu, 04 Nov 2021 08:47:14 GMT
Content-Type: application/json
RateLimit-Limit: 600
RateLimit-Remaining: 593
RateLimit-Reset: 1
X-RateLimit-Remaining-Minute: 5984
X-RateLimit-Remaining-Second: 593
X-RateLimit-Limit-Second: 600
X-RateLimit-Limit-Minute: 6000
Expires: 0
X-Content-Type-Options: nosniff
x-fapi-interaction-id: af693195-acca-43b0-99f8-2c35e888f8ef
X-Frame-Options: DENY
Content-Length: 560

{
  "Code": "403 Forbidden",
  "Id": "1b090361-f128-47bc-8542-9d8b8ecc931d",
  "Message": "The request transaction interval [2021-08-06T00:00Z to 2021-11-04T00:00Z] is not inside the interval limits [2021-08-06T08:47:14.877Z to 2021-11-04T08:47:14.877Z] for this level of authentication [SCA: false]",
  "Errors": [
    {
      "ErrorCode": "UK.OBIE.Reauthenticate",
      "Message": "The request transaction interval [2021-08-06T00:00Z to 2021-11-04T00:00Z] is not inside the interval limits [2021-08-06T08:47:14.877Z to 2021-11-04T08:47:14.877Z] for this level of authentication [SCA: false]"
    }
  ]
}

-----------------------------------------------------------------------------------
REQUEST 6
GET https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts/ba04b986-8d64-11ea-8379-123456789012/transactions?toBookingDateTime=2021-11-04T08%3A47%3A14&fromBookingDateTime=2021-08-06T08%3A57%3A14
Accept: application/json
Content-Type: application/json
x-fapi-financial-id: resursbank

-----------------------------------------------------------------------------------
RESPONSE 6
200
Date: Thu, 04 Nov 2021 08:47:14 GMT
Date: Thu, 04 Nov 2021 08:47:15 GMT
Content-Type: application/json;charset=utf-8
RateLimit-Limit: 600
RateLimit-Remaining: 590
RateLimit-Reset: 1
X-RateLimit-Remaining-Minute: 5981
X-RateLimit-Remaining-Second: 590
X-RateLimit-Limit-Second: 600
X-RateLimit-Limit-Minute: 6000
Expires: 0
X-Content-Type-Options: nosniff
x-fapi-interaction-id: b58c0be1-698c-4765-8f64-30717bb358c3
X-Frame-Options: DENY
Transfer-Encoding: chunked

{
    "Data": {
        "Transaction": [
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "60083518096_000005620",
                "CreditDebitIndicator": "Debit",
                "Status": "Booked",
                "BookingDateTime": "2021-11-03T12:00:00Z",
                "Amount": {
                    "Amount": "484.62",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "SourceCurrency": "EUR",
                    "TargetCurrency": "SEK",
                    "UnitCurrency": "EUR",
                    "ExchangeRate": 9.930737,
                    "QuotationDate": "2021-11-02T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "PURCHASE"
                },
                "TransactionInformation": "RESTAURANTE LA TRATTO",
                "CreditorAgent": {
                    "PostalAddress": {
                        "TownName": "PLAYA DE LAS",
                        "Country": "ES"
                    }
                }
            },
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "60083518096_000005621",
                "CreditDebitIndicator": "Debit",
                "Status": "Booked",
                "BookingDateTime": "2021-11-03T12:00:00Z",
                "Amount": {
                    "Amount": "9.55",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "TargetCurrency": "SEK",
                    "ExchangeRate": 0.000000,
                    "QuotationDate": "2021-11-02T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "CHARGE"
                },
                "CreditorAgent": {
                    "PostalAddress": {
                        "TownName": "",
                        "Country": ""
                    }
                }
            },
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "60083518096_000005622",
                "CreditDebitIndicator": "Debit",
                "Status": "Booked",
                "BookingDateTime": "2021-11-03T12:00:00Z",
                "Amount": {
                    "Amount": "24.89",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "SourceCurrency": "EUR",
                    "TargetCurrency": "SEK",
                    "UnitCurrency": "EUR",
                    "ExchangeRate": 9.956000,
                    "QuotationDate": "2021-11-02T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "PURCHASE"
                },
                "CreditorAgent": {
                    "PostalAddress": {
                        "TownName": "TENERIFE",
                        "Country": "ES"
                    }
                }
            },
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "60083518096_000005623",
                "CreditDebitIndicator": "Debit",
                "Status": "Booked",
                "BookingDateTime": "2021-11-03T12:00:00Z",
                "Amount": {
                    "Amount": "0.49",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "TargetCurrency": "SEK",
                    "ExchangeRate": 0.000000,
                    "QuotationDate": "2021-11-02T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "CHARGE"
                },
                "CreditorAgent": {
                    "PostalAddress": {
                        "TownName": "",
                        "Country": ""
                    }
                }
            },
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "60083518096_000005618",
                "CreditDebitIndicator": "Debit",
                "Status": "Booked",
                "BookingDateTime": "2021-11-02T12:00:00Z",
                "Amount": {
                    "Amount": "894.69",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "SourceCurrency": "EUR",
                    "TargetCurrency": "SEK",
                    "UnitCurrency": "EUR",
                    "ExchangeRate": 9.954272,
                    "QuotationDate": "2021-11-01T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "PURCHASE"
                },
                "TransactionInformation": "REST. SORPRESA SORPRES",
                "CreditorAgent": {
                    "PostalAddress": {
                        "TownName": "CALLAO SALVAJ",
                        "Country": "ES"
                    }
                }
            },
            {
                "AccountId": "ba04b986-8d64-11ea-8379-123456789012",
                "TransactionId": "_188325493",
                "CreditDebitIndicator": "Debit",
                "Status": "Pending",
                "Amount": {
                    "Amount": "60.00",
                    "Currency": "SEK"
                },
                "CurrencyExchange": {
                    "TargetCurrency": "SEK",
                    "QuotationDate": "2021-11-05T12:00:00Z"
                },
                "ProprietaryBankTransactionCode": {
                    "Code": "PRELIMINARY"
                },
                "CreditorAgent": {
                    "PostalAddress": {}
                }
            }
        ]
    },
    "Links": {
        "Self": "https://open-banking.resurs.com/open-banking/v3.1/aisp/accounts/ba04b986-8d64-11ea-8379-123456789012/transactions"
    },
    "Meta": {}
}
