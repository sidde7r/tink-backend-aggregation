REQUEST 1
POST https://api-ma.triodos.com/auth/nl/v1/token

RESPONSE 1
200
Content-Type: application/json

{"access_token":"**HASHED:Mr**","refresh_token":"**HASHED:Ez**","scope":"openid offline_access AIS:**HASHED:4d**","id_token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJTZVRCalVNSEFQczd2aXRHYWQzVGxVMUVZVGhiMTloUVhlZnVWMzl4N1AwPSIsImF1ZCI6Il**HASHED:It**kiLCJhdXRoX3RpbWUiOiIxNjE4ODMxNzkxIiwiaXNzIjoiaHR0cHM6XC9cL2FwaS50cmlvZG9zLmNvbVwvYXV0aFwvbmwiLCJjbmYiOnsieDV0I1MyNTYiOiJDMUUwNTc4MTdCRkNEQUZBMzQ3NTNENzc0RjNEMTgxMjZFQTlDQzBEMzU5N0NBNDlBRTM2QkNGRTg4RUFERTY4In0sImV4cCI6MTYxODgzMjM5MiwiaWF0Ijo**HASHED:mz**.Bpq6L35I3WXIq4Dsaeh5XN5hv9dc01NCDQK4Hx1HVRw","token_type":"bearer","expires_in":600}

REQUEST 2
GET https://api-ma.triodos.com/xs2a-bg/nl/v1/consents/Consent-ID/status

RESPONSE 2
200
Content-Type: application/json

{"consentStatus":"valid"}

REQUEST 3
GET https://api-ma.triodos.com/xs2a-bg/nl/v1/accounts

RESPONSE 3
200
Content-Type: application/json

{"accounts":[{"iban":"***ibans***","currency":"EUR","resourceId":"c56fb304-1102-441a-91fa-aa7ce54c2bae","cashAccountType":"CACC","name":"R. Loef","status":"enabled","_links":{"account":"/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae","transactions":"/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae/transactions","balances":"/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae/balances"}}]}

REQUEST 4
GET https://api-ma.triodos.com/xs2a-bg/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae/balances

RESPONSE 4
200
Content-Type: application/json

{"account":{"iban":"***ibans***"},"balances":[{"balanceType":"closingBooked","balanceAmount":{"currency":"EUR","amount":"10132.19"},"referenceDate":"2021-04-19","creditLimitIncluded":false},{"balanceType":"expected","balanceAmount":{"currency":"EUR","amount":"10132.19"},"referenceDate":"2021-04-19","creditLimitIncluded":true}]}

REQUEST 5
GET https://api-ma.triodos.com/xs2a-bg/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae/transactions?bookingStatus=both&dateFrom=2000-10-10

RESPONSE 5
200
Content-Type: application/json

{ "account": { "iban": "***ibans***" }, "transactions": { "booked": [ { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-04-19", "valueDate": "2021-04-19", "transactionAmount": { "currency": "EUR", "amount": "21.60" }, "creditorName": "TestCreditor", "creditorAccount": { "iban": "NL59ABNA0626226163" }, "remittanceInformationUnstructured": "Transaction Description", "proprietaryBankTransactionCode": "ID", "endToEndIdentification": "16-04-21 22:20 0030006656539436" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-04-19", "valueDate": "2021-04-19", "transactionAmount": { "currency": "EUR", "amount": "5.97" }, "creditorName": "AMZN MKTP NL", "creditorAccount": { "iban": "DE28700111106021375053" }, "remittanceInformationUnstructured": "Transaction Description", "proprietaryBankTransactionCode": "ID", "endToEndIdentification": "16-04-21 21:23 0140000363278314" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-04-19", "valueDate": "2021-04-19", "transactionAmount": { "currency": "EUR", "amount": "109.05" }, "creditorName": "ASOS.com Ltd", "creditorAccount": { "iban": "BE85739020855506" }, "remittanceInformationUnstructured": "Transaction Description", "proprietaryBankTransactionCode": "ID", "endToEndIdentification": "16-04-21 17:42 0140000363224395" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-04-19", "valueDate": "2021-04-19", "transactionAmount": { "currency": "EUR", "amount": "12.38" }, "creditorAccount": {}, "remittanceInformationUnstructured": "Transaction Description", "proprietaryBankTransactionCode": "BA" }, { "transactionId": "27346399-fbc6-4542-b96d-95b9bdf9d3e4", "bookingDate": "2021-04-19", "valueDate": "2021-04-19", "transactionAmount": { "currency": "EUR", "amount": "13.41" }, "creditorAccount": {}, "remittanceInformationUnstructured": "Transaction Description", "proprietaryBankTransactionCode": "BA" } ], "pending": [], "_links": { "account": "/nl/v1/accounts/00000000-0000-9999-0000-000000000000", "first": "/nl/v1/accounts/00000000-0000-9999-0000-000000000000/transactions?bookingStatus=both&dateFrom=2000-10-10", "next": "/nl/v1/accounts/00000000-0000-9999-0000-000000000000/transactions?edgeToken=V1hb1HqLsHUSs0DVLNH8sIfOippayAKefPrbUvq4TRt9Ibm2g4vld41ti9PgjlvsBg8VB1NWyYY%3D" } } }

REQUEST 6
GET https://api-ma.triodos.com/xs2a-bg/nl/v1/accounts/00000000-0000-9999-0000-000000000000/transactions?edgeToken=V1hb1HqLsHUSs0DVLNH8sIfOippayAKefPrbUvq4TRt9Ibm2g4vld41ti9PgjlvsBg8VB1NWyYY%3D&bookingStatus=both&dateFrom=2000-10-10

RESPONSE 6
200
Content-Type: application/json

{ "account": { "iban": "***ibans***" }, "transactions": { "booked": [ { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-02-22", "valueDate": "2021-02-22", "transactionAmount": { "currency": "EUR", "amount": "8.17" }, "creditorAccount": {}, "remittanceInformationUnstructured": "Transaction description", "proprietaryBankTransactionCode": "BA" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-02-22", "valueDate": "2021-02-21", "transactionAmount": { "currency": "EUR", "amount": "6.49" }, "creditorAccount": {}, "remittanceInformationUnstructured": "Transaction description", "proprietaryBankTransactionCode": "BA" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-02-22", "valueDate": "2021-02-20", "transactionAmount": { "currency": "EUR", "amount": "11.91" }, "creditorAccount": {}, "remittanceInformationUnstructured": "Transaction description", "proprietaryBankTransactionCode": "BA" }, { "transactionId": "00000000-0000-4000-0000-000000000000", "bookingDate": "2021-02-19", "valueDate": "2021-02-19", "transactionAmount": { "currency": "EUR", "amount": "2.50" }, "creditorName": "Creditor name", "creditorAccount": { "iban": "NL51DEUT0265262461" }, "remittanceInformationUnstructured": "Transaction description", "proprietaryBankTransactionCode": "ID", "endToEndIdentification": "18-02-21 16:58 1150001463838678" } ], "pending": [], "_links": { "account": "/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae", "first": "/nl/v1/accounts/c56fb304-1102-441a-91fa-aa7ce54c2bae/transactions?bookingStatus=both&dateFrom=2000-10-10" } } }
