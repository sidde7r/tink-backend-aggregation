REQUEST 2
POST https://apiebank3.danskebank.com/ebanking/ext/e4/account/list
Accept: application/json
Content-Type: application/json

{
  "languageCode": "SV"
}

-----------------------------------------------------------------------------------
RESPONSE 2 SET STATE3
200
Date: Fri, 01 Oct 2021 12:26:58 GMT
Content-Type: application/json; charset=utf-8

{
  "statusCode": 200,
  "responseCode": 200,
  "lastUpdated": "0001-01-01T00:00:00",
  "languageCode": "SV",
  "accounts": [
    {
      "showAvailableOverdraft": false,
      "overdraftAvailable": 0,
      "showCategory": "Y",
      "sortValue": 1,
      "isFixedTermDeposit": false,
      "isInLimitGroup": false,
      "isJisaAccountProduct": false,
      "isSavingGoalAccountProduct": true,
      "isBreadcrumbAccountProduct": true,
      "isLoanAccount": false,
      "invIdOwner": "8317751606",
      "mandateAccMk": "E",
      "showAvailable": false,
      "accessToCredit": true,
      "accessToDebit": true,
      "accessToQuery": true,
      "currency": "SEK",
      "cardType": "006",
      "accountType": "",
      "accountName": "Danske Konto",
      "accountProduct": "2EX",
      "accountRegNoExt": "1331",
      "accountNoExt": "1200123456",
      "accountNoInt": "1200123456",
      "balanceAvailable": 12.78,
      "balance": 12.78
    },
    {
      "showAvailableOverdraft": false,
      "overdraftAvailable": 0,
      "showCategory": "Y",
      "sortValue": 2,
      "isFixedTermDeposit": false,
      "isInLimitGroup": false,
      "isJisaAccountProduct": false,
      "isSavingGoalAccountProduct": true,
      "isBreadcrumbAccountProduct": true,
      "isLoanAccount": false,
      "invIdOwner": "8317751606",
      "mandateAccMk": "E",
      "showAvailable": false,
      "accessToCredit": true,
      "accessToDebit": true,
      "accessToQuery": true,
      "currency": "SEK",
      "cardType": "",
      "accountType": "",
      "accountName": "Depåkonto",
      "accountProduct": "2AB",
      "accountRegNoExt": "1331",
      "accountNoExt": "13310937712",
      "accountNoInt": "3355924483",
      "balanceAvailable": 6,
      "balance": 6
    },
    {
      "showAvailableOverdraft": false,
      "overdraftAvailable": 0,
      "showCategory": "N",
      "sortValue": 3,
      "isFixedTermDeposit": false,
      "isInLimitGroup": false,
      "isJisaAccountProduct": false,
      "isSavingGoalAccountProduct": false,
      "isBreadcrumbAccountProduct": false,
      "isLoanAccount": false,
      "invIdOwner": "8317751606",
      "mandateAccMk": "E",
      "showAvailable": false,
      "accessToCredit": true,
      "accessToDebit": true,
      "accessToQuery": true,
      "currency": "SEK",
      "cardType": "",
      "accountType": "",
      "accountName": "Investeringssparkto.",
      "accountProduct": "2DC",
      "accountRegNoExt": "1331",
      "accountNoExt": "24890724982",
      "accountNoInt": "3364206585",
      "balanceAvailable": 1,
      "balance": 1
    }
  ]
}

-----------------------------------------------------------------------------------
REQUEST 3 MATCH STATE3
POST https://apiebank3.danskebank.com/ebanking/ext/e4/transfers/validateGiroSe
Accept: application/json
Content-Type: application/json

{
  "GiroAccount": "9008004",
  "PayType": "P"
}

-----------------------------------------------------------------------------------
RESPONSE 3 SET STATE4
200
Date: Fri, 01 Oct 2021 12:26:58 GMT
Content-Type: application/json; charset=utf-8

{
  "statusCode": 200,
  "responseCode": 200,
  "responseMessage": "",
  "giroName": "Creditor"
}

-----------------------------------------------------------------------------------
REQUEST 4 MATCH STATE4
POST https://apiebank3.danskebank.com/ebanking/ext/e4/transfers/validateBookDate
Accept: application/json
Content-Type: application/json

{
  "currencyTransaction": false,
  "BookingDate": "2021-11-10",
  "CountryCode": "SE",
  "IsCurrencyTransaction": false,
  "PayType": "P",
  "ReceiverAccount": "9008004",
  "TransferType": "payBill"
}

-----------------------------------------------------------------------------------
RESPONSE 4 SET STATE5
200
Date: Fri, 01 Oct 2021 12:26:58 GMT
Content-Type: application/json; charset=utf-8

{
  "statusCode": 200,
  "responseCode": 200,
  "responseMessage": "",
  "bookingDate": "2021-11-10"
}

-----------------------------------------------------------------------------------
REQUEST 5 MATCH STATE5
GET https://apiebank3.danskebank.com/ebanking/ext/Functions?stage=Postlogon
Accept: application/json

-----------------------------------------------------------------------------------
RESPONSE 5 SET STATE6
200
Date: Fri, 01 Oct 2021 12:26:59 GMT
Content-Type: text/html; charset=utf-8

";"

-----------------------------------------------------------------------------------
REQUEST 6 MATCH STATE6
POST https://apiebank3.danskebank.com/ebanking/ext/ValidateSignature
Accept: application/json
Content-Type: application/json

{
  "businessData": {
    "accountNameFrom": "Danske Konto",
    "accountNoExtFrom": "1200123456",
    "accountNoIntFrom": "1200123456",
    "accountProductFrom": "2EX",
    "allowDuplicateTransfer": false,
    "amount": 1.0,
    "bookingDate": "20211110",
    "currency": "SEK",
    "payeeName": "Creditor",
    "regNoFromExt": "1331",
    "savePayee": false,
    "sendMessageToReceiver": false,
    "sendReceiptToFrom": false,
    "textFrom": "test",
    "cardType": "P",
    "creditorId": "9008004",
    "creditorName": "Creditor",
    "creditorReference": "",
    "messageToReceiverText": "test",
    "registerPayment": "NO",
    "einvoiceMarking": false,
    "EInvoiceMarking": false
  },
  "language": "SV",
  "signatureType": "PayBillSE"
}

-----------------------------------------------------------------------------------
RESPONSE 6 SET STATE7
200
Date: Fri, 01 Oct 2021 12:27:00 GMT
Content-Type: application/json; charset=utf-8

{
  "SignatureId": "7c60aa28-0b64-4ba0-b809-eb7229148df7",
  "InitSignPackage": "",
  "SignDataEnc": "",
  "UserID": "**MASKEDwh**",
  "IsConfirmation": false,
  "AutoStartToken": "26626e83-9fc9-42d2-82e9-c19f9cbf44d8",
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "ForcableErrorsRC": "",
  "ForcableError": [],
  "SignatureText": "Ny PlusGirobetalning\nFrån konto: Danske Konto 1200123456\nText på kontoutdrag: test\nBelopp: 1,00 SEK\nDatum: 2021-11-10\nAvgift: 0,00 SEK\nBetalningsmottagare: Plusgironummer 35747-5 Creditor\nMeddelande till mottagaren: test\n",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 7 MATCH STATE7
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 7 SET STATE8
200
Date: Fri, 01 Oct 2021 12:27:00 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 8 MATCH STATE8
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 8 SET STATE9
200
Date: Fri, 01 Oct 2021 12:27:03 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 9 MATCH STATE9
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 9 SET STATE10
200
Date: Fri, 01 Oct 2021 12:27:05 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 10 MATCH STATE10
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 10 SET STATE11
200
Date: Fri, 01 Oct 2021 12:27:07 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 11 MATCH STATE11
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 11 SET STATE12
200
Date: Fri, 01 Oct 2021 12:27:10 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 12 MATCH STATE12
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 12 SET STATE13
200
Date: Fri, 01 Oct 2021 12:27:12 GMT
Content-Type: application/json; charset=utf-8

{
  "OrderRef": "3d38a2c0-315d-4706-8e4d-5830019eae48",
  "Status": "USER_SIGN",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 13 MATCH STATE13
POST https://apiebank3.danskebank.com/ebanking/ext/swedpoll
Accept: application/json
Content-Type: application/json

{
  "channel": "0",
  "mode": "Sign",
  "package": "3d38a2c0-315d-4706-8e4d-5830019eae48"
}

-----------------------------------------------------------------------------------
RESPONSE 13 SET STATE14
200
Date: Fri, 01 Oct 2021 12:27:15 GMT
Content-Type: application/json; charset=utf-8

{
  "Status": "OK",
  "ResponseCode": 200,
  "StatusCode": 200
}

-----------------------------------------------------------------------------------
REQUEST 14 MATCH STATE14
POST https://apiebank3.danskebank.com/ebanking/ext/AcceptSignature?signatureType=PayBillSE
Accept: application/json
Content-Type: application/json

{
  "SignatureId": "7c60aa28-0b64-4ba0-b809-eb7229148df7",
  "Language": "SV"
}

-----------------------------------------------------------------------------------
RESPONSE 14 SET STATE15
200
Date: Fri, 01 Oct 2021 12:27:16 GMT
Content-Type: application/json; charset=utf-8

{
  "Status": 1,
  "ResponseCode": 200,
  "StatusCode": 200
}
