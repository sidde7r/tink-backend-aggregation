
REQUEST 1
POST https://psd.bancairediensten.nl/psd2/asnbank/v1/consents
Accept: application/json

RESPONSE 1
201
Content-Type: application/json

{

  "consentStatus" : "received",

  "consentId" : "**HASHED:Hj**",

  "_links" : {

    "scaOAuth" : {

      "href" : "https://psd.bancairediensten.nl/psd2/asnbank/v1/authorize"

    }

  }

}

REQUEST 2
POST https://psd.bancairediensten.nl/psd2/asnbank/v1/token?code=dummyCode&grant_type=authorization_code&redirect_uri=https%3A%2F%2F127.0.0.1:7357%2Fapi%2Fv1%2Fthirdparty%2Fcallback
Accept: application/json
Content-Type: application/x-www-form-urlencoded

RESPONSE 2
200
Content-Type: application/json;charset=utf-8

{

  "access_token":"**HASHED:Sh**",

  "token_type":"bearer",

  "expires_in":600,

  "refresh_token":"**HASHED:yA**",

  "scope":"AIS"

}

REQUEST 3
GET https://psd.bancairediensten.nl/psd2/asnbank/v1.1/accounts

RESPONSE 3
200
Content-Type: application/json

{"accounts":[{"resourceId":"105db209-2c6f-4031-ae41-3cc0fc72fae9","iban":"NL1111111111","currency":"EUR","name":"first last","ownerName":"owner","product":"ASN Bankrekening","customerBic":"ASNBNL21"}]}

REQUEST 4
GET https://psd.bancairediensten.nl/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9/balances

RESPONSE 4
200
Content-Type: application/json

{"balances":[{"balanceType":"interimAvailable","balanceAmount":{"currency":"EUR","amount":"788.66"},"lastChangeDateTime":"2021-05-01T22:00:00Z"}]}

REQUEST 5
GET https://psd.bancairediensten.nl/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9/transactions?dateFrom=1992-01-11&dateTo=1992-04-09&bookingStatus=booked&limit=1000

RESPONSE 5
200
Content-Type: application/json

{"account":{"iban":"NL1111111111","currency":"EUR"},"transactions":{"booked":[{"entryReference":"19920101-80426544","endToEndId":"NOTPROVIDED","mandateId":"","creditorId":"","bookingDate":"1992-01-01","valueDate":"1992-01-01","transactionAmount":{"currency":"EUR","amount":"-150.00"},"creditorName":"Spaarrekeningkinderen","creditorAccount":{"iban":"NL52ASNB0934972362","bban":""},"debtorAccount":{"iban":"","bban":""},"remittanceInformationUnstructured":"Spaargeldkinderen","purposeCode":"","bankTransactionCode":9802,"proprietaryBankTransactionCode":"FPOV"},{"entryReference":"19920101-81288016","endToEndId":"","mandateId":"","creditorId":"","bookingDate":"1992-01-01","valueDate":"1992-01-01","transactionAmount":{"currency":"EUR","amount":"-48.00"},"remittanceInformationUnstructured":"CoopvanWijlen>HEUSDENG1.02.202111U16KV005H683V3MCC:5411ContactlozebetalingNLNEDERLAND","purposeCode":"","bankTransactionCode":7903,"proprietaryBankTransactionCode":"FBEA"},{"entryReference":"19920102-12345678","endToEndId":"NOTPROVIDED","bookingDate":"1992-01-02","valueDate":"1992-01-02","transactionAmount":{"currency":"EUR","amount":"-69"},"creditorName":"CJIB","creditorAccount":{"iban":"NL1111111111"},"remittanceInformationStructured":{"reference":"1234567890123456","referenceIssuer":"CUR"},"bankTransactionCode":1234,"proprietaryBankTransactionCode":"FIOM","transactionIdentification":"IPI123456"}],"_links":{"account":{"href":"/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9"},"next":{"href":"/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9/transactions?bookingStatus=booked&limit=1000&entryReferenceFrom=19920101-80644671"}}}}

REQUEST 6
GET https://psd.bancairediensten.nl/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9/transactions?bookingStatus=booked&limit=1000&entryReferenceFrom=19920101-80644671

RESPONSE 6
200
Content-Type: application/json

{"account":null,"transactions":{"booked":[],"_links":null}}

REQUEST 7
GET https://psd.bancairediensten.nl/psd2/asnbank/v1.1/accounts/105db209-2c6f-4031-ae41-3cc0fc72fae9/transactions

RESPONSE 7
200
Content-Type: application/json

{"account":null,"transactions":{"booked":[],"_links":null}}
