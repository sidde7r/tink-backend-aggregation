package se.tink.backend.core;

import com.google.common.io.Files;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStream;
import org.junit.Assert;
import org.junit.Test;
import se.tink.backend.rpc.TinkMediaType;

public class DocumentContainerTest {

    // Encoded the file in data/test/test.pdf using an online base64 encoder
    private static final String ONLINE_ENCODED_PDF = "JVBERi0xLjMKJcTl8uXrp/Og0MTGCjQgMCBvYmoKPDwgL0xlbmd0aCA1IDAgUiAvRmlsdGVyIC9GbGF0ZURlY29kZSA+PgpzdHJlYW0KeAFtzrEKwjAQBuC9T/GPupikCWlcFRfBoXDgLCVFhKTUdPHtzcWoIOaGg+S/LzejxwyxTwpDgiqVBshcSrYGnXW4e4wl9nt7RvyMys2Wj7UNI38JHpf8NOdEsaCdhpH574Adwb0StVFoBBFrNGJ1emDxaVmDbjhQWeeNGG2gdVcR3Ra7NgpgJC/FiBDH6XqJ0aev0z8BMwo6UAplbmRzdHJlYW0KZW5kb2JqCjUgMCBvYmoKMTU0CmVuZG9iagoyIDAgb2JqCjw8IC9UeXBlIC9QYWdlIC9QYXJlbnQgMyAwIFIgL1Jlc291cmNlcyA2IDAgUiAvQ29udGVudHMgNCAwIFIgL01lZGlhQm94IFswIDAgMTAyNCA3NjhdCi9UaHVtYiAxMCAwIFIgPj4KZW5kb2JqCjYgMCBvYmoKPDwgL1Byb2NTZXQgWyAvUERGIC9UZXh0IF0gL0NvbG9yU3BhY2UgPDwgL0NzMSA3IDAgUiA+PiAvRm9udCA8PCAvVFQxIDggMCBSCj4+ID4+CmVuZG9iagoxMCAwIG9iago8PCAvTGVuZ3RoIDExIDAgUiAvVHlwZSAvWE9iamVjdCAvU3VidHlwZSAvSW1hZ2UgL1dpZHRoIDI1NiAvSGVpZ2h0IDE5MiAvQ29sb3JTcGFjZQo3IDAgUiAvQml0c1BlckNvbXBvbmVudCA4IC9GaWx0ZXIgL0RDVERlY29kZSA+PgpzdHJlYW0K/9j/4AAQSkZJRgABAQAASABIAAD/4QBMRXhpZgAATU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABAKADAAQAAAABAAAAwAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgAwAEAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAgICAgICAwICAwUDAwMFBgUFBQUGCAYGBgYGCAoICAgICAgKCgoKCgoKCgwMDAwMDA4ODg4ODw8PDw8PDw8PD//bAEMBAgICBAQEBwQEBxALCQsQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEP/dAAQAEP/aAAwDAQACEQMRAD8A/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0f38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//S/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9P9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1P38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//V/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9b9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Q/fyiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//ZCmVuZHN0cmVhbQplbmRvYmoKMTEgMCBvYmoKMTU4MQplbmRvYmoKMTIgMCBvYmoKPDwgL0xlbmd0aCAxMyAwIFIgL04gMyAvQWx0ZXJuYXRlIC9EZXZpY2VSR0IgL0ZpbHRlciAvRmxhdGVEZWNvZGUgPj4Kc3RyZWFtCngBnZZ3VFPZFofPvTe90BIiICX0GnoJINI7SBUEUYlJgFAChoQmdkQFRhQRKVZkVMABR4ciY0UUC4OCYtcJ8hBQxsFRREXl3YxrCe+tNfPemv3HWd/Z57fX2Wfvfde6AFD8ggTCdFgBgDShWBTu68FcEhPLxPcCGBABDlgBwOFmZgRH+EQC1Py9PZmZqEjGs/buLoBku9ssv1Amc9b/f5EiN0MkBgAKRdU2PH4mF+UClFOzxRky/wTK9JUpMoYxMhahCaKsIuPEr2z2p+Yru8mYlybkoRpZzhm8NJ6Mu1DemiXho4wEoVyYJeBno3wHZb1USZoA5fco09P4nEwAMBSZX8znJqFsiTJFFBnuifICAAiUxDm8cg6L+TlongB4pmfkigSJSWKmEdeYaeXoyGb68bNT+WIxK5TDTeGIeEzP9LQMjjAXgK9vlkUBJVltmWiR7a0c7e1Z1uZo+b/Z3x5+U/09yHr7VfEm7M+eQYyeWd9s7KwvvRYA9iRamx2zvpVVALRtBkDl4axP7yAA8gUAtN6c8x6GbF6SxOIMJwuL7OxscwGfay4r6Df7n4Jvyr+GOfeZy+77VjumFz+BI0kVM2VF5aanpktEzMwMDpfPZP33EP/jwDlpzcnDLJyfwBfxhehVUeiUCYSJaLuFPIFYkC5kCoR/1eF/GDYnBxl+nWsUaHVfAH2FOVC4SQfIbz0AQyMDJG4/egJ961sQMQrIvrxorZGvc48yev7n+h8LXIpu4UxBIlPm9gyPZHIloiwZo9+EbMECEpAHdKAKNIEuMAIsYA0cgDNwA94gAISASBADlgMuSAJpQASyQT7YAApBMdgBdoNqcADUgXrQBE6CNnAGXARXwA1wCwyAR0AKhsFLMAHegWkIgvAQFaJBqpAWpA+ZQtYQG1oIeUNBUDgUA8VDiZAQkkD50CaoGCqDqqFDUD30I3Qaughdg/qgB9AgNAb9AX2EEZgC02EN2AC2gNmwOxwIR8LL4ER4FZwHF8Db4Uq4Fj4Ot8IX4RvwACyFX8KTCEDICAPRRlgIG/FEQpBYJAERIWuRIqQCqUWakA6kG7mNSJFx5AMGh6FhmBgWxhnjh1mM4WJWYdZiSjDVmGOYVkwX5jZmEDOB+YKlYtWxplgnrD92CTYRm40txFZgj2BbsJexA9hh7DscDsfAGeIccH64GFwybjWuBLcP14y7gOvDDeEm8Xi8Kt4U74IPwXPwYnwhvgp/HH8e348fxr8nkAlaBGuCDyGWICRsJFQQGgjnCP2EEcI0UYGoT3QihhB5xFxiKbGO2EG8SRwmTpMUSYYkF1IkKZm0gVRJaiJdJj0mvSGTyTpkR3IYWUBeT64knyBfJQ+SP1CUKCYUT0ocRULZTjlKuUB5QHlDpVINqG7UWKqYup1aT71EfUp9L0eTM5fzl+PJrZOrkWuV65d7JU+U15d3l18unydfIX9K/qb8uAJRwUDBU4GjsFahRuG0wj2FSUWaopViiGKaYolig+I1xVElvJKBkrcST6lA6bDSJaUhGkLTpXnSuLRNtDraZdowHUc3pPvTk+nF9B/ovfQJZSVlW+Uo5RzlGuWzylIGwjBg+DNSGaWMk4y7jI/zNOa5z+PP2zavaV7/vCmV+SpuKnyVIpVmlQGVj6pMVW/VFNWdqm2qT9QwaiZqYWrZavvVLquNz6fPd57PnV80/+T8h+qwuol6uPpq9cPqPeqTGpoavhoZGlUalzTGNRmabprJmuWa5zTHtGhaC7UEWuVa57VeMJWZ7sxUZiWzizmhra7tpy3RPqTdqz2tY6izWGejTrPOE12SLls3Qbdct1N3Qk9LL1gvX69R76E+UZ+tn6S/R79bf8rA0CDaYItBm8GooYqhv2GeYaPhYyOqkavRKqNaozvGOGO2cYrxPuNbJrCJnUmSSY3JTVPY1N5UYLrPtM8Ma+ZoJjSrNbvHorDcWVmsRtagOcM8yHyjeZv5Kws9i1iLnRbdFl8s7SxTLessH1kpWQVYbbTqsPrD2sSaa11jfceGauNjs86m3ea1rakt33a/7X07ml2w3Ra7TrvP9g72Ivsm+zEHPYd4h70O99h0dii7hH3VEevo4bjO8YzjByd7J7HTSaffnVnOKc4NzqMLDBfwF9QtGHLRceG4HHKRLmQujF94cKHUVduV41rr+sxN143ndsRtxN3YPdn9uPsrD0sPkUeLx5Snk+cazwteiJevV5FXr7eS92Lvau+nPjo+iT6NPhO+dr6rfS/4Yf0C/Xb63fPX8Of61/tPBDgErAnoCqQERgRWBz4LMgkSBXUEw8EBwbuCHy/SXyRc1BYCQvxDdoU8CTUMXRX6cxguLDSsJux5uFV4fnh3BC1iRURDxLtIj8jSyEeLjRZLFndGyUfFRdVHTUV7RZdFS5dYLFmz5EaMWowgpj0WHxsVeyR2cqn30t1Lh+Ps4grj7i4zXJaz7NpyteWpy8+ukF/BWXEqHhsfHd8Q/4kTwqnlTK70X7l35QTXk7uH+5LnxivnjfFd+GX8kQSXhLKE0USXxF2JY0muSRVJ4wJPQbXgdbJf8oHkqZSQlKMpM6nRqc1phLT4tNNCJWGKsCtdMz0nvS/DNKMwQ7rKadXuVROiQNGRTChzWWa7mI7+TPVIjCSbJYNZC7Nqst5nR2WfylHMEeb05JrkbssdyfPJ+341ZjV3dWe+dv6G/ME17msOrYXWrlzbuU53XcG64fW+649tIG1I2fDLRsuNZRvfbore1FGgUbC+YGiz7+bGQrlCUeG9Lc5bDmzFbBVs7d1ms61q25ciXtH1YsviiuJPJdyS699ZfVf53cz2hO29pfal+3fgdgh33N3puvNYmWJZXtnQruBdreXM8qLyt7tX7L5WYVtxYA9pj2SPtDKosr1Kr2pH1afqpOqBGo+a5r3qe7ftndrH29e/321/0wGNA8UHPh4UHLx/yPdQa61BbcVh3OGsw8/rouq6v2d/X39E7Ujxkc9HhUelx8KPddU71Nc3qDeUNsKNksax43HHb/3g9UN7E6vpUDOjufgEOCE58eLH+B/vngw82XmKfarpJ/2f9rbQWopaodbc1om2pDZpe0x73+mA050dzh0tP5v/fPSM9pmas8pnS8+RzhWcmzmfd37yQsaF8YuJF4c6V3Q+urTk0p2usK7ey4GXr17xuXKp2737/FWXq2euOV07fZ19ve2G/Y3WHruell/sfmnpte9tvelws/2W462OvgV95/pd+y/e9rp95Y7/nRsDiwb67i6+e/9e3D3pfd790QepD14/zHo4/Wj9Y+zjoicKTyqeqj+t/dX412apvfTsoNdgz7OIZ4+GuEMv/5X5r0/DBc+pzytGtEbqR61Hz4z5jN16sfTF8MuMl9Pjhb8p/rb3ldGrn353+71nYsnE8GvR65k/St6ovjn61vZt52To5NN3ae+mp4req74/9oH9oftj9MeR6exP+E+Vn40/d3wJ/PJ4Jm1m5t/3hPP7CmVuZHN0cmVhbQplbmRvYmoKMTMgMCBvYmoKMjYxMgplbmRvYmoKNyAwIG9iagpbIC9JQ0NCYXNlZCAxMiAwIFIgXQplbmRvYmoKMyAwIG9iago8PCAvVHlwZSAvUGFnZXMgL01lZGlhQm94IFswIDAgMTAyNCA3NjhdIC9Db3VudCAxIC9LaWRzIFsgMiAwIFIgXSA+PgplbmRvYmoKMTQgMCBvYmoKPDwgL1R5cGUgL0NhdGFsb2cgL1BhZ2VzIDMgMCBSID4+CmVuZG9iago5IDAgb2JqClsgMiAwIFIgL1hZWiAwIDc2OCAwIF0KZW5kb2JqCjggMCBvYmoKPDwgL1R5cGUgL0ZvbnQgL1N1YnR5cGUgL1RydWVUeXBlIC9CYXNlRm9udCAvQlpVTktNK0hlbHZldGljYS1MaWdodCAvRm9udERlc2NyaXB0b3IKMTUgMCBSIC9FbmNvZGluZyAvTWFjUm9tYW5FbmNvZGluZyAvRmlyc3RDaGFyIDMyIC9MYXN0Q2hhciAxMjEgL1dpZHRocyBbIDI3OAowIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMjc4IDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCA1MDAgMCAwIDgzMyAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDU1NiAwIDAgMCA1NTYKMCAwIDU1NiAwIDAgMCAwIDAgNTU2IDU1NiAwIDAgMCA1MDAgMjc4IDAgMCAwIDAgNTAwIF0gPj4KZW5kb2JqCjE1IDAgb2JqCjw8IC9UeXBlIC9Gb250RGVzY3JpcHRvciAvRm9udE5hbWUgL0JaVU5LTStIZWx2ZXRpY2EtTGlnaHQgL0ZsYWdzIDMyIC9Gb250QkJveApbLTQ1MyAtMzU1IDEzNDUgMTIwNl0gL0l0YWxpY0FuZ2xlIDAgL0FzY2VudCA3NzAgL0Rlc2NlbnQgLTIzMCAvQ2FwSGVpZ2h0CjcxOCAvU3RlbVYgNjggL1hIZWlnaHQgNTI0IC9TdGVtSCA1OCAvQXZnV2lkdGggNjAwIC9NYXhXaWR0aCAxNDQ1IC9Gb250RmlsZTIKMTYgMCBSID4+CmVuZG9iagoxNiAwIG9iago8PCAvTGVuZ3RoIDE3IDAgUiAvTGVuZ3RoMSA0NTc2IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+CnN0cmVhbQp4Ae1XW2wbxxW9M8uX+F6+ZJq0TGpFUhLFh/iQTJui9aBUyYod+dGEFII6iiXbauLYSB0jifsQ0qQfQloEaNGfNmhRpPkQWoAtkIJyktp9oA+gHwbaz34lRZGiST5cB+hHRfbM7pqiYyfIR9H+dInZmXvn7uw5d+bey7381NNrZKcNkmjyzIWVS6Re5lPo/nDmyuWIJvMN9NNnL527oMu/JjLUzz3x7FlNtpSJeibPr62sajL9C/3YeSg0mRXQD5y/cPkZTTZH0BeeuHhGn7cIOXxh5Rn9/fRnyJEnVy6socclN3EbvHTxC5dVkeQvoi9fempNt2c1IpbYeOt5vvEoRpqRNnDQq9RDT5NRV/uIOLCDL1M1zHzhn2tX3j7tKn9IQeld8ei28sGvRP/Hr/72UutQ6xXjlOFnEHvwoHbhBRJv7yUy/hDzvzRO7b5St3A0yZpk18hEXrIn2XUK0HGaoiINUhgmnuR16qVH6MRdmj30gG7jUW3oOsl0GkZTXY956Cqt0jHKdxby0pOqza7GR2c/ovHTGKVIoSDpS1/D0EBysknuyOyX1vdUBWB4OUnXQIYTF+glbXAdg0dogUo0RCBNFqA3gE+3BlgZcCzTHOU6Rhzo7zK6hm0wklm8SHsrkQ/2B6lMVSzsbRfIwk3k5NfIzG/Cdz78DgJ5DvjPwqaM9brthA1htZHFJvUs1X7C2DfqTdZ+sUnVfdvYMen051JNYiORyOx6tcEehcBHoBiOYiSNROYaUmzuRE2pRzYjmwurm5G5yPmV1YYhpvaYWNusZyINOllbx/1ULdqYrIc6w7V6/SDWMYh18AjMN+tY4fP6CuhVVWYHRsaRxUhDii/VjtcaG9VQY7JaD0WjkdnGjaVa40Y1FK3XYWXqIAVisS0aZjMwm4Yxb9FWOVlrTIYaVN/cFGuerCnRxsbmZmgTPHS5STc+omD0UcWkroAnsAY8MdtkG0tYDJ0SDQmFElWiwFmv4t09I4sna7NAGhVIrZ/scluHCGztgG9TXe74D7nc+Wlc7vpULnd3kN7lchmY3cLlnv+hy73/d/l/+5R3uxypht1GC4jW3sE4IE3RMT5CabQU2rze4phLw86HXmRYrbYQKquJfg45gszYKUuQ773u1JZ7Zz5JI6mThk8y6Zoz6mOT2pu7ZizIldplJVtHb1dHD9FD9BRdY/3sJj/Cfyrtlb4m3TIsGb6PVI6L3eZvokCYsIKdXLSCsMk0yYzmdiMz30QTsnsbxUS6DQkjF0Yibc/WxGxoG8vYKnVdwYWCk1FVwNiAVyBtY2TFKDsqR+Uoi/Z6ZbM3YU6MJ9jtlp292vrR1u+2Xtra6tva4m/uVPlmu/Un1sKt3U6124DZ3mm/xiL8HWANi9LGSErewaC/0lGpZ0d7FW++eODvB5alCZUeBdrvs++p1ejBJvnAxYLmAzcvuHkzArwBAC0AaMPozpo9gkYPYU2dl1MonILXNjzHwWTc18fzubGinJd9JqU/zYvLxmAxM1eqPrY+cWTI+Zf+6WJk6QHes/Ph+sWh2XpWuBu1n/g/gMdF39J8LfB0+1ogMeuYkKiB0goLze8CqQMaR+YOTiZgsS6cRqEwdin0HdI2RGyZWViY9R0SCptQ2IQiO5qX8178ZEVWJPzkY+ff4++eq/L3Jt/n/ObOi/zqTpY/v/Nl0cCHU7p9iwe4j9w0Q99F4QbWXoEXKKvuJk2hn4KXTerp6QW3YX3UpBLmSh0mMYEiRj0dj2eEItOFMycUuS5FQSgKXYqyUJSFQhASBy+GN+5VDx5zMrOT+dVNq/BiosLGK6xYiCv9Tm5WKlI+18f9si8w7ncypT+Rloqix64Wxtl34scSs0e9+4f8A9ViZE3OuFzmQ3P7C4mgYUIaKC0OJ2bz+4Jxc8jhdLg8NkP8sVL/4Wz4deZ2WyVjobhH6bV5YqXERW4xm6PO9CFbKNWfnhryyrFKqvVXxevMcIvEXf6gc3jEEx+Pv7BH+DYF3xJ8a6U4faVJCeFXtAT82gff9cGvNtWb4pQQtNqZFuNtPCLi1YcZX8fHivCP0uXjoFAEhcPeEPEpQgB/7xQ8jn/ceDyIkVtzXyHNVVdpHhwbzzslzT0VREHAzK77hyqDgxPJvYZAcjp56JRzxjYwdmS0snwwHJ2oHXj8OcYS8ZnRfX256VhueHE8WinFDmf2Di+cKZVWF5PffEmL13kEyTuIjxA926Qw2DrRwuCm5aJtTAheHLycAOeA9LGxYBLskNo6R+qeWHAIC4d2gkxYzqNyRRDIFQZWvX3Mj1DQDwlOjzxfHjg6lj0R9prLlflwOrbX3GPgN1sfxLPRofChSOvH7MTcnBwe8AXTodbf4FGNj2+Xj0vnw8CAqflH8JEguQDA2cVHz2u78PXI3VXcw2c3S2lJ26vxUeS8//6EXijfj5Bp/n581HiP40yacCa9lBDVYhBsRFYdxA4ZwcEoZPAQNQISRn1djKzC3daP2RArjIPqqRPHV1GRGxGGBXHAEJs+J/fqh/BOFLNA7uGpeF95uTyxXN7Xf7j+nG94OpuZGfb1jkwnRe9k/dWz1dKZI8nkwmqpsjqfYHJ66VB/bOLB4ezxg5FYBQlZ5GXkMfYb8EoRMn4aLEReToOVS+wM9imsMhLZWeli5BGMPF2MBoViUEtBKFNwgkfnhYrRh0OF3FNIG4qFMXG+lDRyjAl0DIKeiKfE486FajS73z165KEjo6cfPrVum7AslkplVY4cOJpOfyYX5j+YGXeH+r3xmN/VdyA/dXKxVh4dHVRivZ7ogVysFPeGspMxwcvXvkUt/m149tIb+CAVpV6EuAnMRNaQ0dtv3okgvertHjA9PnYVkqAnaQHjADGzStEifITmRpOgDaib1ysSaLwoK8V8Me/P+xVZq5jjLdtAIJVZWCivrHCr32sP2jm3pg6yq7mXX861XvGGPRaDKPGedoG9jS9K8fmNBCBq1T0I7QKQvWsDvELhJXMn6ANCEdAUXoDDdzGqN0Jb7MW4lA+xvCRyWTxRtQcdwYjf2fP7mddem/qFJxpL7Xfvs3+dGyKpUZlbWzPsrRYbPTa+D/CQn9Wr/Tpq0v0uB5QSzkaKsvj2nadFsDiBf2MP43Nc7AxyjfqY4EfTy589tng0Ob/2xJW1y+tnVlIPrJ87f/nfnkHXTgplbmRzdHJlYW0KZW5kb2JqCjE3IDAgb2JqCjIzNzgKZW5kb2JqCjE4IDAgb2JqCih0ZXN0KQplbmRvYmoKMTkgMCBvYmoKKE1hYyBPUyBYIDEwLjEyIFF1YXJ0eiBQREZDb250ZXh0KQplbmRvYmoKMjAgMCBvYmoKKEtleW5vdGUpCmVuZG9iagoyMSAwIG9iagooRDoyMDE2MTAxMzEyMzMzMVowMCcwMCcpCmVuZG9iagoxIDAgb2JqCjw8IC9UaXRsZSAxOCAwIFIgL1Byb2R1Y2VyIDE5IDAgUiAvQ3JlYXRvciAyMCAwIFIgL0NyZWF0aW9uRGF0ZSAyMSAwIFIgL01vZERhdGUKMjEgMCBSID4+CmVuZG9iagp4cmVmCjAgMjIKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDA4NDY1IDAwMDAwIG4gCjAwMDAwMDAyNjkgMDAwMDAgbiAKMDAwMDAwNTAyNSAwMDAwMCBuIAowMDAwMDAwMDIyIDAwMDAwIG4gCjAwMDAwMDAyNTAgMDAwMDAgbiAKMDAwMDAwMDM4OCAwMDAwMCBuIAowMDAwMDA0OTg5IDAwMDAwIG4gCjAwMDAwMDUxOTcgMDAwMDAgbiAKMDAwMDAwNTE1OSAwMDAwMCBuIAowMDAwMDAwNDg1IDAwMDAwIG4gCjAwMDAwMDIyMzIgMDAwMDAgbiAKMDAwMDAwMjI1MyAwMDAwMCBuIAowMDAwMDA0OTY4IDAwMDAwIG4gCjAwMDAwMDUxMDkgMDAwMDAgbiAKMDAwMDAwNTU3OCAwMDAwMCBuIAowMDAwMDA1ODM0IDAwMDAwIG4gCjAwMDAwMDgzMDIgMDAwMDAgbiAKMDAwMDAwODMyMyAwMDAwMCBuIAowMDAwMDA4MzQ2IDAwMDAwIG4gCjAwMDAwMDgzOTcgMDAwMDAgbiAKMDAwMDAwODQyMyAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDIyIC9Sb290IDE0IDAgUiAvSW5mbyAxIDAgUiAvSUQgWyA8MTc3NWQ2YjBkYzQwNGZmOGJlMTQ0OWVmNDZkNTEwOTY+CjwxNzc1ZDZiMGRjNDA0ZmY4YmUxNDQ5ZWY0NmQ1MTA5Nj4gXSA+PgpzdGFydHhyZWYKODU3MAolJUVPRgo=";

    @Test
    public void testSerialization() throws FileNotFoundException {
        File initialFile = new File("data/test/test.pdf");
        InputStream is = new FileInputStream(initialFile);

        DocumentContainer container = new DocumentContainer(TinkMediaType.APPLICATION_PDF, is);
        Assert.assertEquals(ONLINE_ENCODED_PDF, container.getBase64Representation());
    }

    @Test
    public void testDeserialization() throws IOException {

        DocumentContainer container = new DocumentContainer();
        container.setMimeType(TinkMediaType.APPLICATION_PDF);
        container.setBase64Representation(ONLINE_ENCODED_PDF);

        File tmpFile = File.createTempFile("pdf-from-string", "pdf");
        byte[] bytes = container.getBinaryDocument();
        Files.write(bytes, tmpFile);

        InputStream is2 = new FileInputStream(tmpFile);

        DocumentContainer container2 = new DocumentContainer(TinkMediaType.APPLICATION_PDF, is2);

        Assert.assertEquals(ONLINE_ENCODED_PDF, container2.getBase64Representation());
    }
}