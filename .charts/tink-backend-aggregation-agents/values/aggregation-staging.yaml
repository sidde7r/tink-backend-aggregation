tags: <{ $labels.className }> , <{ $labels.provider }>

kibanaLink: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-1h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaLink4h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-4h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaLink12h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-12h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaLink24h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-24h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaLink48h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-48h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaUnknowErrorsLink12h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-12h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.exceptions*%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.agentplatform.authentication.result.error*'),sort:!(!('@timestamp',desc)))
kibanaClassLink: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-1h,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22'),sort:!(!('@timestamp',desc)))
kibanaClassLink90m: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-90m,to:now))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22'),sort:!(!('@timestamp',desc)))
kibanaMarketLink: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-4h,to:now))&_a=(columns:!(doc.exception,doc.message,doc.mdc.agentName,doc.mdc.providerName),filters:!(),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName%20like%20!'.<{$labels.market}>.!''),sort:!(!('@timestamp',desc)))
kibanaClassPaymentLink: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-1h,to:now))&_a=(columns:!(doc.exception,doc.message,doc.mdc.operation),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22%20AND%20doc.mdc.operation:%20%22initiate-payment%22'),sort:!(!('@timestamp',desc)))

kibanaProviderLinkAbs1h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 3600" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaProviderLinkAbs4h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 14400" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaProviderLinkAbs12h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 43200" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22'),sort:!(!('@timestamp',desc)))
kibanaClassLinkAbs1h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 3600" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22'),sort:!(!('@timestamp',desc)))
kibanaClassLinkAbs4h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 14400" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22'),sort:!(!('@timestamp',desc)))
kibanaClassLinkAbs12h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 43200" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName:%22<{$labels.className}>%22'),sort:!(!('@timestamp',desc)))
kibanaUnknownErrorsLinkAbs1h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 3600" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.exceptions*%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.agentplatform.authentication.result.error*'),sort:!(!('@timestamp',desc)))
kibanaUnknownErrorsLinkAbs4h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 14400" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.exceptions*%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.agentplatform.authentication.result.error*'),sort:!(!('@timestamp',desc)))
kibanaUnknownErrorsLinkAbs12h: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:'<{ query "time() - 43200" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>',to:'<{ query "time()" | first | value | humanizeTimestamp | reReplaceAll "(\\S+) (\\S+).*" "${1}T${2}Z" }>'))&_a=(columns:!(doc.exception,doc.message),filters:!(('$state':(store:appState),exists:(field:doc.exception),meta:(alias:!n,disabled:!f,index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',key:doc.exception,negate:!f,type:exists,value:exists))),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.providerName:%22<{$labels.provider}>%22%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.exceptions*%20AND%20NOT%20doc.exception:%20se.tink.backend.aggregation.agents.agentplatform.authentication.result.error*'),sort:!(!('@timestamp',desc)))

grafanaProviderLinkAbs1h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 3600" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=All&var-provider=<{$labels.provider}>&var-interval=15m&var-app=tink-backend-aggregation
grafanaProviderLinkAbs4h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 14400" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=All&var-provider=<{$labels.provider}>&var-interval=15m&var-app=tink-backend-aggregation
grafanaProviderLinkAbs12h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 43200" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=All&var-provider=<{$labels.provider}>&var-interval=15m&var-app=tink-backend-aggregation
grafanaClassLinkAbs1h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 3600" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=<{ $labels.className }>&var-provider=All&var-interval=15m&var-app=tink-backend-aggregation
grafanaClassLinkAbs4h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 14400" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=<{ $labels.className }>&var-provider=All&var-interval=15m&var-app=tink-backend-aggregation
grafanaClassLinkAbs12h: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=<{ query "time() - 43200" | first | value | printf "%0.f000" }>&to=<{ query "time()" | first | value | printf "%0.f000" }>&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=<{ $labels.className }>&var-provider=All&var-interval=15m&var-app=tink-backend-aggregation

#Specific link cause in Prometheus GB as market is used but in Kibana we can search only for UK providers
kibanaMarketUKLink: https://kibana.aggregation-staging.tink.network/app/kibana#/discover?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-4h,to:now))&_a=(columns:!(doc.exception,doc.message,doc.mdc.agentName,doc.mdc.providerName),filters:!(),index:'26fa2220-73b2-11e8-9a34-dbc1936ede52',interval:auto,query:(language:kuery,query:'doc.mdc.agentName%20like%20!'.uk.!''),sort:!(!('@timestamp',desc)))
grafanaLink: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=now-1h&to=now&var-cluster=aggregation&var-environment=staging&var-market=All&var-agent=All&var-provider=<{$labels.provider}>&var-interval=15m&var-app=tink-backend-aggregation
grafanaMarketLink: https://grafana.global-production.tink.network/d/000000078/integration-dashboard?orgId=1&from=now-3h&to=now&var-cluster=aggregation&var-environment=staging&var-market=<{$labels.market}>&var-agent=All&var-provider=All&var-interval=15m&var-app=tink-backend-aggregation

# [NZG-409] Jan S:
# Trying to declutter repetitious form of recording rules expression for DE market,
# by defining time series filtering right here. Might be refactored further in near future.
deQueryLoginAll: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-manual|login-auto|login-cron"}
deQueryLoginManualAll: tink_agent_login_total{ provider_type!="test", market="DE", action="login-manual"}
deQueryLoginManualFailed: tink_agent_login_total{ provider_type!="test", market="DE", action="login-manual", outcome="failed"}
deQueryLoginManualUnavailable: tink_agent_login_total{ provider_type!="test", market="DE", action="login-manual", outcome="unavailable"}
deQueryLoginManualTinkInfrFailed: tink_agent_login_total{ provider_type!="test", market="DE", action="login-manual", outcome="failed_due_to_tink_infrastructure"}
deQueryLoginManualCancelled: tink_agent_login_total{ provider_type!="test", market="DE", action="login-manual", outcome=~"cancelled|cancelled_due_to_third_party_app_timeout"}
deQueryLoginAutoAll: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-auto|login-cron"}
deQueryLoginAutoFailed: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-auto|login-cron", outcome="failed"}
deQueryLoginAutoUnavailable: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-auto|login-cron", outcome="unavailable"}
deQueryLoginAutoTinkInfrFailed: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-auto|login-cron", outcome="failed_due_to_tink_infrastructure"}
deQueryLoginAutoCancelled: tink_agent_login_total{ provider_type!="test", market="DE", action=~"login-auto|login-cron", outcome=~"cancelled|cancelled_due_to_third_party_app_timeout"}
deQueryPaymentAll: tink_agent_transfer_total{ provider_type!="test", market="DE"}
deQueryPaymentFailed: tink_agent_transfer_total{ provider_type!="test", market="DE", outcome="failed"}
deQueryPaymentUnavailable: tink_agent_transfer_total{ provider_type!="test", market="DE", outcome="unavailable"}
deQueryPaymentCancelled: tink_agent_transfer_total{ provider_type!="test", market="DE", outcome="cancelled"}
deQueryRefreshAll: tink_agent_refresh_total{ provider_type!="test", market="DE"}
deQueryRefreshFailed: tink_agent_refresh_total{ provider_type!="test", market="DE", outcome=~"failed|partially_completed"}
deQueryRefreshUnavailable: tink_agent_refresh_total{ provider_type!="test", market="DE", outcome="unavailable"}
